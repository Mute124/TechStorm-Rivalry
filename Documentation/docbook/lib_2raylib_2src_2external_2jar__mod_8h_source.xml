<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="_lib_2raylib_2src_2external_2jar__mod_8h_source" xml:lang="en-US">
<title>jar_mod.h</title>
<indexterm><primary>C:/Users/HP/Documents/GitHub/Minero-Game/lib/raylib/src/external/jar_mod.h</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered">1 <emphasis role="comment">//&#32;jar_mod.h&#32;-&#32;v0.01&#32;-&#32;public&#32;domain&#32;C0&#32;-&#32;Joshua&#32;Reisenauer</emphasis>
2 <emphasis role="comment">//</emphasis>
3 <emphasis role="comment">//&#32;HISTORY:</emphasis>
4 <emphasis role="comment">//</emphasis>
5 <emphasis role="comment">//&#32;&#32;&#32;v0.01&#32;&#32;2016-03-12&#32;&#32;Setup</emphasis>
6 <emphasis role="comment">//</emphasis>
7 <emphasis role="comment">//</emphasis>
8 <emphasis role="comment">//&#32;USAGE:</emphasis>
9 <emphasis role="comment">//</emphasis>
10 <emphasis role="comment">//&#32;In&#32;ONE&#32;source&#32;file,&#32;put:</emphasis>
11 <emphasis role="comment">//</emphasis>
12 <emphasis role="comment">//&#32;&#32;&#32;&#32;#define&#32;JAR_MOD_IMPLEMENTATION</emphasis>
13 <emphasis role="comment">//&#32;&#32;&#32;&#32;#include&#32;&quot;jar_mod.h&quot;</emphasis>
14 <emphasis role="comment">//</emphasis>
15 <emphasis role="comment">//&#32;Other&#32;source&#32;files&#32;should&#32;just&#32;include&#32;jar_mod.h</emphasis>
16 <emphasis role="comment">//</emphasis>
17 <emphasis role="comment">//&#32;SAMPLE&#32;CODE:</emphasis>
18 <emphasis role="comment">//&#32;jar_mod_context_t&#32;modctx;</emphasis>
19 <emphasis role="comment">//&#32;short&#32;samplebuff[4096];</emphasis>
20 <emphasis role="comment">//&#32;bool&#32;bufferFull&#32;=&#32;false;</emphasis>
21 <emphasis role="comment">//&#32;int&#32;intro_load(void)</emphasis>
22 <emphasis role="comment">//&#32;{</emphasis>
23 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;jar_mod_init(&amp;modctx);</emphasis>
24 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;jar_mod_load_file(&amp;modctx,&#32;&quot;file.mod&quot;);</emphasis>
25 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;return&#32;1;</emphasis>
26 <emphasis role="comment">//&#32;}</emphasis>
27 <emphasis role="comment">//&#32;int&#32;intro_unload(void)</emphasis>
28 <emphasis role="comment">//&#32;{</emphasis>
29 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;jar_mod_unload(&amp;modctx);</emphasis>
30 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;return&#32;1;</emphasis>
31 <emphasis role="comment">//&#32;}</emphasis>
32 <emphasis role="comment">//&#32;int&#32;intro_tick(long&#32;counter)</emphasis>
33 <emphasis role="comment">//&#32;{</emphasis>
34 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;if(!bufferFull)</emphasis>
35 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;{</emphasis>
36 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;jar_mod_fillbuffer(&amp;modctx,&#32;samplebuff,&#32;4096,&#32;0);</emphasis>
37 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;bufferFull=true;</emphasis>
38 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;}</emphasis>
39 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;if(IsKeyDown(KEY_ENTER))</emphasis>
40 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;return&#32;1;</emphasis>
41 <emphasis role="comment">//&#32;&#32;&#32;&#32;&#32;return&#32;0;</emphasis>
42 <emphasis role="comment">//&#32;}</emphasis>
43 <emphasis role="comment">//</emphasis>
44 <emphasis role="comment">//</emphasis>
45 <emphasis role="comment">//&#32;LISCENSE:</emphasis>
46 <emphasis role="comment">//</emphasis>
47 <emphasis role="comment">//&#32;Written&#32;by:&#32;Jean-Fran√ßois&#32;DEL&#32;NERO&#32;(http://hxc2001.com/)&#32;&lt;Email&#32;:&#32;jeanfrancoisdelnero&#32;&lt;&gt;&#32;free.fr&gt;</emphasis>
48 <emphasis role="comment">//&#32;Adapted&#32;to&#32;jar_mod&#32;by:&#32;Joshua&#32;Adam&#32;Reisenauer&#32;&lt;kd7tck@gmail.com&gt;</emphasis>
49 <emphasis role="comment">//&#32;This&#32;program&#32;is&#32;free&#32;software.&#32;It&#32;comes&#32;without&#32;any&#32;warranty,&#32;to&#32;the</emphasis>
50 <emphasis role="comment">//&#32;extent&#32;permitted&#32;by&#32;applicable&#32;law.&#32;You&#32;can&#32;redistribute&#32;it&#32;and/or</emphasis>
51 <emphasis role="comment">//&#32;modify&#32;it&#32;under&#32;the&#32;terms&#32;of&#32;the&#32;Do&#32;What&#32;The&#32;Fuck&#32;You&#32;Want&#32;To&#32;Public</emphasis>
52 <emphasis role="comment">//&#32;License,&#32;Version&#32;2,&#32;as&#32;published&#32;by&#32;Sam&#32;Hocevar.&#32;See</emphasis>
53 <emphasis role="comment">//&#32;http://sam.zoy.org/wtfpl/COPYING&#32;for&#32;more&#32;details.</emphasis>
55 <emphasis role="comment">//&#32;HxCMOD&#32;Core&#32;API:</emphasis>
56 <emphasis role="comment">//&#32;-------------------------------------------</emphasis>
57 <emphasis role="comment">//&#32;int&#32;&#32;jar_mod_init(jar_mod_context_t&#32;*&#32;modctx)</emphasis>
58 <emphasis role="comment">//</emphasis>
59 <emphasis role="comment">//&#32;-&#32;Initialize&#32;the&#32;jar_mod_context_t&#32;buffer.&#32;Must&#32;be&#32;called&#32;before&#32;doing&#32;anything&#32;else.</emphasis>
60 <emphasis role="comment">//&#32;&#32;&#32;Return&#32;1&#32;if&#32;success.&#32;0&#32;in&#32;case&#32;of&#32;error.</emphasis>
61 <emphasis role="comment">//&#32;-------------------------------------------</emphasis>
62 <emphasis role="comment">//&#32;mulong&#32;jar_mod_load_file(jar_mod_context_t&#32;*&#32;modctx,&#32;const&#32;char*&#32;filename)</emphasis>
63 <emphasis role="comment">//</emphasis>
64 <emphasis role="comment">//&#32;-&#32;&quot;Load&quot;&#32;a&#32;MOD&#32;from&#32;file,&#32;context&#32;must&#32;already&#32;be&#32;initialized.</emphasis>
65 <emphasis role="comment">//&#32;&#32;&#32;Return&#32;size&#32;of&#32;file&#32;in&#32;bytes.</emphasis>
66 <emphasis role="comment">//&#32;-------------------------------------------</emphasis>
67 <emphasis role="comment">//&#32;void&#32;jar_mod_fillbuffer(&#32;jar_mod_context_t&#32;*&#32;modctx,&#32;short&#32;*&#32;outbuffer,&#32;unsigned&#32;long&#32;nbsample,&#32;jar_mod_tracker_buffer_state&#32;*&#32;trkbuf&#32;)</emphasis>
68 <emphasis role="comment">//</emphasis>
69 <emphasis role="comment">//&#32;-&#32;Generate&#32;and&#32;return&#32;the&#32;next&#32;samples&#32;chunk&#32;to&#32;outbuffer.</emphasis>
70 <emphasis role="comment">//&#32;&#32;&#32;nbsample&#32;specify&#32;the&#32;number&#32;of&#32;stereo&#32;16bits&#32;samples&#32;you&#32;want.</emphasis>
71 <emphasis role="comment">//&#32;&#32;&#32;The&#32;output&#32;format&#32;is&#32;by&#32;default&#32;signed&#32;48000Hz&#32;16-bit&#32;Stereo&#32;PCM&#32;samples,&#32;otherwise&#32;it&#32;is&#32;changed&#32;with&#32;jar_mod_setcfg().</emphasis>
72 <emphasis role="comment">//&#32;&#32;&#32;The&#32;output&#32;buffer&#32;size&#32;in&#32;bytes&#32;must&#32;be&#32;equal&#32;to&#32;(&#32;nbsample&#32;*&#32;2&#32;*&#32;channels&#32;).</emphasis>
73 <emphasis role="comment">//&#32;&#32;&#32;The&#32;optional&#32;trkbuf&#32;parameter&#32;can&#32;be&#32;used&#32;to&#32;get&#32;detailed&#32;status&#32;of&#32;the&#32;player.&#32;Put&#32;NULL/0&#32;is&#32;unused.</emphasis>
74 <emphasis role="comment">//&#32;-------------------------------------------</emphasis>
75 <emphasis role="comment">//&#32;void&#32;jar_mod_unload(&#32;jar_mod_context_t&#32;*&#32;modctx&#32;)</emphasis>
76 <emphasis role="comment">//&#32;-&#32;&quot;Unload&quot;&#32;/&#32;clear&#32;the&#32;player&#32;status.</emphasis>
77 <emphasis role="comment">//&#32;-------------------------------------------</emphasis>
79 
80 
81 <emphasis role="preprocessor">#ifndef&#32;INCLUDE_JAR_MOD_H</emphasis>
82 <emphasis role="preprocessor">#define&#32;INCLUDE_JAR_MOD_H</emphasis>
83 
84 <emphasis role="comment">//&#32;Allow&#32;custom&#32;memory&#32;allocators</emphasis>
85 <emphasis role="preprocessor">#ifndef&#32;JARMOD_MALLOC</emphasis>
86 <emphasis role="preprocessor">&#32;&#32;&#32;&#32;#define&#32;JARMOD_MALLOC(sz)&#32;&#32;&#32;&#32;malloc(sz)</emphasis>
87 <emphasis role="preprocessor">#endif</emphasis>
88 <emphasis role="preprocessor">#ifndef&#32;JARMOD_FREE</emphasis>
89 <emphasis role="preprocessor">&#32;&#32;&#32;&#32;#define&#32;JARMOD_FREE(p)&#32;&#32;&#32;&#32;&#32;&#32;&#32;free(p)</emphasis>
90 <emphasis role="preprocessor">#endif</emphasis>
91 
92 
93 <emphasis role="comment">//&#32;Basic&#32;type</emphasis>
94 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>;
95 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">short</emphasis>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>;
96 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keywordtype">short</emphasis>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a02793280ab49e7dc7c9c2072ba0c5808">mint</link>;
97 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>;
98 
99 <emphasis role="preprocessor">#define&#32;NUMMAXCHANNELS&#32;32</emphasis>
100 <emphasis role="preprocessor">#define&#32;MAXNOTES&#32;12*12</emphasis>
101 <emphasis role="preprocessor">#define&#32;DEFAULT_SAMPLE_RATE&#32;48000</emphasis>
102 <emphasis role="comment">//</emphasis>
103 <emphasis role="comment">//&#32;MOD&#32;file&#32;structures</emphasis>
104 <emphasis role="comment">//</emphasis>
105 
106 <emphasis role="preprocessor">#pragma&#32;pack(1)</emphasis>
107 
108 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>{
109 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a14d7642df08c5cb68e4fb90cc8a73509">name</link>[22];
110 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;<link linkend="_namespacelength">length</link>;
111 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;finetune;
112 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;volume;
113 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;reppnt;
114 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;replen;
115 }&#32;<link linkend="_structsample">sample</link>;
116 
117 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>{
118 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;sampperiod;
119 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;period;
120 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;sampeffect;
121 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;effect;
122 }&#32;<link linkend="_structnote">note</link>;
123 
124 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>{
125 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;title[20];
126 &#32;&#32;&#32;&#32;<link linkend="_structsample">sample</link>&#32;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1aba70cd077c2c52c15358c231c6d293aa">samples</link>[31];
127 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;<link linkend="_namespacelength">length</link>;&#32;<emphasis role="comment">//&#32;length&#32;of&#32;tablepos</emphasis>
128 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;protracker;
129 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;patterntable[128];
130 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;signature[4];
131 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;speed;
132 }&#32;<emphasis role="keyword">module</emphasis>;
133 
134 <emphasis role="preprocessor">#pragma&#32;pack()</emphasis>
135 
136 <emphasis role="comment">//</emphasis>
137 <emphasis role="comment">//&#32;HxCMod&#32;Internal&#32;structures</emphasis>
138 <emphasis role="comment">//</emphasis>
139 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>{
140 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>*&#32;&#32;&#32;sampdata;
141 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;sampnum;
142 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;<link linkend="_namespacelength">length</link>;
143 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;reppnt;
144 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;replen;
145 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;&#32;samppos;
146 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;period;
147 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;volume;
148 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;&#32;ticks;
149 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;effect;
150 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;parameffect;
151 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;effect_code;
152 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a02793280ab49e7dc7c9c2072ba0c5808">mint</link>&#32;&#32;&#32;&#32;decalperiod;
153 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a02793280ab49e7dc7c9c2072ba0c5808">mint</link>&#32;&#32;&#32;&#32;portaspeed;
154 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a02793280ab49e7dc7c9c2072ba0c5808">mint</link>&#32;&#32;&#32;&#32;portaperiod;
155 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a02793280ab49e7dc7c9c2072ba0c5808">mint</link>&#32;&#32;&#32;&#32;vibraperiod;
156 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a02793280ab49e7dc7c9c2072ba0c5808">mint</link>&#32;&#32;&#32;&#32;Arpperiods[3];
157 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;ArpIndex;
158 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a02793280ab49e7dc7c9c2072ba0c5808">mint</link>&#32;&#32;&#32;&#32;oldk;
159 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;volumeslide;
160 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;vibraparam;
161 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;vibrapointeur;
162 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;finetune;
163 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;cut_param;
164 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;patternloopcnt;
165 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;patternloopstartpoint;
166 }&#32;<link linkend="_structchannel">channel</link>;
167 
168 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>{
169 &#32;&#32;&#32;&#32;<emphasis role="keyword">module</emphasis>&#32;&#32;song;
170 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>*&#32;&#32;&#32;sampledata[31];
171 &#32;&#32;&#32;&#32;<link linkend="_structnote">note</link>*&#32;&#32;&#32;patterndata[128];
172 
173 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;&#32;playrate;
174 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;tablepos;
175 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;patternpos;
176 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;patterndelay;
177 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;jump_loop_effect;
178 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;&#32;bpm;
179 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;&#32;patternticks;
180 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;&#32;patterntickse;
181 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;&#32;patternticksaim;
182 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;&#32;sampleticksconst;
183 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;&#32;samplenb;
184 &#32;&#32;&#32;&#32;<link linkend="_structchannel">channel</link>&#32;channels[<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac394b8495618ac8fd3e47056b225923f">NUMMAXCHANNELS</link>];
185 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;number_of_channels;
186 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;fullperiod[<link linkend="__classes_2lib_2external_2jar__mod_8h_1a13b3cbb582faebb90f9c2de9d9c8f160">MAXNOTES</link>&#32;*&#32;8];
187 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;mod_loaded;
188 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a02793280ab49e7dc7c9c2072ba0c5808">mint</link>&#32;&#32;&#32;&#32;last_r_sample;
189 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a02793280ab49e7dc7c9c2072ba0c5808">mint</link>&#32;&#32;&#32;&#32;last_l_sample;
190 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a02793280ab49e7dc7c9c2072ba0c5808">mint</link>&#32;&#32;&#32;&#32;stereo;
191 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a02793280ab49e7dc7c9c2072ba0c5808">mint</link>&#32;&#32;&#32;&#32;stereo_separation;
192 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a02793280ab49e7dc7c9c2072ba0c5808">mint</link>&#32;&#32;&#32;&#32;bits;
193 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a02793280ab49e7dc7c9c2072ba0c5808">mint</link>&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1a8bed50656d87c3eeed9d8f5e539c6b3e">filter</link>;
194 &#32;&#32;&#32;&#32;
195 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>&#32;*modfile;&#32;<emphasis role="comment">//&#32;the&#32;raw&#32;mod&#32;file</emphasis>
196 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;&#32;modfilesize;
197 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;&#32;&#32;loopcount;
198 }&#32;<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>;
199 
200 <emphasis role="comment">//</emphasis>
201 <emphasis role="comment">//&#32;Player&#32;states&#32;structures</emphasis>
202 <emphasis role="comment">//</emphasis>
203 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis><link linkend="_structtrack__state__">track_state_</link>
204 {
205 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_structtrack__state___1af275aa449dbfaec9c6d1a6984209bbf2">instrument_number</link>;
206 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">short</emphasis>&#32;<link linkend="_structtrack__state___1aff97ecd20be4cd5ff62f5a0aadb42b8c">cur_period</link>;
207 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;&#32;<link linkend="_structtrack__state___1af49a8e85c3124e9a6eb5c92675e8e62a">cur_volume</link>;
208 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">short</emphasis>&#32;<link linkend="_structtrack__state___1a53ca1a950c809f665048ceb312aaacd0">cur_effect</link>;
209 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">short</emphasis>&#32;<link linkend="_structtrack__state___1a93fac4a9c9c3fc6053bd087aef9ea40f">cur_parameffect</link>;
210 }<link linkend="__classes_2lib_2external_2jar__mod_8h_1a827fac717d5e9679c0350c22416905cf">track_state</link>;
211 
212 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis><link linkend="_structtracker__state__">tracker_state_</link>
213 {
214 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_structtracker__state___1aa5ff7d1b86b7bf3ff9455c506f5aa380">number_of_tracks</link>;
215 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_structtracker__state___1a131018428803d5b4747062cfdb724a5f">bpm</link>;
216 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_structtracker__state___1a0572b649f44765987064ec09a6c1e099">speed</link>;
217 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_structtracker__state___1a249caefc046982542c134a4b24ef6adf">cur_pattern</link>;
218 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_structtracker__state___1a58924103f216d431040531aa5d99639c">cur_pattern_pos</link>;
219 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_structtracker__state___1afec748ebe2eadfce2846a54afa5e5d6d">cur_pattern_table_pos</link>;
220 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_structtracker__state___1a8262697f4fff2c64edf1d26f7bbff9a3">buf_index</link>;
221 &#32;&#32;&#32;&#32;<link linkend="_structtrack__state__">track_state</link>&#32;<link linkend="_structtracker__state___1a080a99a2f8c741de44029f11abdc95d2">tracks</link>[32];
222 }<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac6a5096e6dec44fd23ef90e8c085b16f">tracker_state</link>;
223 
224 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis><link linkend="_structtracker__state__instrument__">tracker_state_instrument_</link>
225 {
226 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a14d7642df08c5cb68e4fb90cc8a73509">name</link>[22];
227 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;<link linkend="_structtracker__state__instrument___1a7a89f8a3213dd76353f080dd2bd0bfb3">active</link>;
228 }<link linkend="__classes_2lib_2external_2jar__mod_8h_1ae951ff20f85616be437bc39b8497f57d">tracker_state_instrument</link>;
229 
230 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis><link linkend="_structjar__mod__tracker__buffer__state__">jar_mod_tracker_buffer_state_</link>
231 {
232 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;<link linkend="_structjar__mod__tracker__buffer__state___1ac0b468b57412769d2f710eeb0d7e2642">nb_max_of_state</link>;
233 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>;
234 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;<link linkend="_structjar__mod__tracker__buffer__state___1a41b65b27e55768e6d8068b187a885f88">cur_rd_index</link>;
235 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;&#32;<link linkend="_structjar__mod__tracker__buffer__state___1a26d86955ac3c20dc2a61d16d756271a5">sample_step</link>;
236 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a14d7642df08c5cb68e4fb90cc8a73509">name</link>[64];
237 &#32;&#32;&#32;&#32;<link linkend="_structtracker__state__instrument__">tracker_state_instrument</link>&#32;<link linkend="_structjar__mod__tracker__buffer__state___1a9c7f34c01236f72cf2cb3665b0a5494f">instruments</link>[31];
238 &#32;&#32;&#32;&#32;<link linkend="_structtracker__state__">tracker_state</link>&#32;*&#32;<link linkend="_structjar__mod__tracker__buffer__state___1aa3129a41b161a4945fa98effcce0eb5c">track_state_buf</link>;
239 }<link linkend="__classes_2lib_2external_2jar__mod_8h_1a0c9957d1ecc126b528fba48f8271beab">jar_mod_tracker_buffer_state</link>;
240 
241 <emphasis role="preprocessor">#ifdef&#32;__cplusplus</emphasis>
242 <emphasis role="keyword">extern</emphasis>&#32;<emphasis role="stringliteral">&quot;C&quot;</emphasis>&#32;{
243 <emphasis role="preprocessor">#endif</emphasis>
244 
245 <emphasis role="keywordtype">bool</emphasis>&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac8ea6269835488646d99516fd173b4b6">jar_mod_init</link>(<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;modctx);
246 <emphasis role="keywordtype">bool</emphasis>&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1aa26fc11908f56ac9c4c5457516d95749">jar_mod_setcfg</link>(<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;modctx,&#32;<emphasis role="keywordtype">int</emphasis>&#32;samplerate,&#32;<emphasis role="keywordtype">int</emphasis>&#32;bits,&#32;<emphasis role="keywordtype">int</emphasis>&#32;stereo,&#32;<emphasis role="keywordtype">int</emphasis>&#32;stereo_separation,&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1a8bed50656d87c3eeed9d8f5e539c6b3e">filter</link>);
247 <emphasis role="keywordtype">void</emphasis>&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1aaae0576db604b379a412b7db94aaa8c1">jar_mod_fillbuffer</link>(<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;modctx,&#32;<emphasis role="keywordtype">short</emphasis>&#32;*&#32;outbuffer,&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>&#32;nbsample,&#32;<link linkend="_structjar__mod__tracker__buffer__state__">jar_mod_tracker_buffer_state</link>&#32;*&#32;trkbuf);
248 <emphasis role="keywordtype">void</emphasis>&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a7e06edfed0f65450c6ddee22b21b99f5">jar_mod_unload</link>(<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;modctx);
249 <link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ab95228f347043bb1ecf90e23f8622d12">jar_mod_load_file</link>(<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;modctx,&#32;<emphasis role="keyword">const</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>*&#32;<link linkend="__classes_2lib_2m_i_n_i-master_2tests_2testhuge_8cpp_1a42a21beb8018ac623f4d09db1343b9cf">filename</link>);
250 <link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac426a140ab622462e1b797eecee4b768">jar_mod_current_samples</link>(<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;modctx);
251 <link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1aa604bba6c299ab762f4d790a265b614a">jar_mod_max_samples</link>(<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;modctx);
252 <emphasis role="keywordtype">void</emphasis>&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac4b3582d5b65e2365b6f54eaacdbf173">jar_mod_seek_start</link>(<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>);
253 
254 <emphasis role="preprocessor">#ifdef&#32;__cplusplus</emphasis>
255 }
256 <emphasis role="preprocessor">#endif</emphasis>
257 <emphasis role="comment">//--------------------------------------------------------------------</emphasis>
258 
259 
260 
261 <emphasis role="comment">//-------------------------------------------------------------------------------</emphasis>
262 <emphasis role="preprocessor">#ifdef&#32;JAR_MOD_IMPLEMENTATION</emphasis>
263 
264 <emphasis role="preprocessor">#include&#32;&lt;stdio.h&gt;</emphasis>
265 <emphasis role="preprocessor">#include&#32;&lt;stdlib.h&gt;</emphasis>
266 <emphasis role="comment">//#include&#32;&lt;stdbool.h&gt;</emphasis>
267 
268 <emphasis role="comment">//&#32;Effects&#32;list</emphasis>
269 <emphasis role="preprocessor">#define&#32;EFFECT_ARPEGGIO&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0x0&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
270 <emphasis role="preprocessor">#define&#32;EFFECT_PORTAMENTO_UP&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0x1&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
271 <emphasis role="preprocessor">#define&#32;EFFECT_PORTAMENTO_DOWN&#32;&#32;&#32;&#32;&#32;&#32;&#32;0x2&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
272 <emphasis role="preprocessor">#define&#32;EFFECT_TONE_PORTAMENTO&#32;&#32;&#32;&#32;&#32;&#32;&#32;0x3&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
273 <emphasis role="preprocessor">#define&#32;EFFECT_VIBRATO&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0x4&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
274 <emphasis role="preprocessor">#define&#32;EFFECT_VOLSLIDE_TONEPORTA&#32;&#32;&#32;&#32;0x5&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
275 <emphasis role="preprocessor">#define&#32;EFFECT_VOLSLIDE_VIBRATO&#32;&#32;&#32;&#32;&#32;&#32;0x6&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
276 <emphasis role="preprocessor">#define&#32;EFFECT_VOLSLIDE_TREMOLO&#32;&#32;&#32;&#32;&#32;&#32;0x7&#32;</emphasis><emphasis role="comment">//&#32;-&#32;TO&#32;BE&#32;DONE&#32;-</emphasis>
277 <emphasis role="preprocessor">#define&#32;EFFECT_SET_PANNING&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0x8&#32;</emphasis><emphasis role="comment">//&#32;-&#32;TO&#32;BE&#32;DONE&#32;-</emphasis>
278 <emphasis role="preprocessor">#define&#32;EFFECT_SET_OFFSET&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0x9&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
279 <emphasis role="preprocessor">#define&#32;EFFECT_VOLUME_SLIDE&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0xA&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
280 <emphasis role="preprocessor">#define&#32;EFFECT_JUMP_POSITION&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0xB&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
281 <emphasis role="preprocessor">#define&#32;EFFECT_SET_VOLUME&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0xC&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
282 <emphasis role="preprocessor">#define&#32;EFFECT_PATTERN_BREAK&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0xD&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
283 
284 <emphasis role="preprocessor">#define&#32;EFFECT_EXTENDED&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0xE</emphasis>
285 <emphasis role="preprocessor">#define&#32;EFFECT_E_FINE_PORTA_UP&#32;&#32;&#32;&#32;&#32;&#32;&#32;0x1&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
286 <emphasis role="preprocessor">#define&#32;EFFECT_E_FINE_PORTA_DOWN&#32;&#32;&#32;&#32;&#32;0x2&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
287 <emphasis role="preprocessor">#define&#32;EFFECT_E_GLISSANDO_CTRL&#32;&#32;&#32;&#32;&#32;&#32;0x3&#32;</emphasis><emphasis role="comment">//&#32;-&#32;TO&#32;BE&#32;DONE&#32;-</emphasis>
288 <emphasis role="preprocessor">#define&#32;EFFECT_E_VIBRATO_WAVEFORM&#32;&#32;&#32;&#32;0x4&#32;</emphasis><emphasis role="comment">//&#32;-&#32;TO&#32;BE&#32;DONE&#32;-</emphasis>
289 <emphasis role="preprocessor">#define&#32;EFFECT_E_SET_FINETUNE&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0x5&#32;</emphasis><emphasis role="comment">//&#32;-&#32;TO&#32;BE&#32;DONE&#32;-</emphasis>
290 <emphasis role="preprocessor">#define&#32;EFFECT_E_PATTERN_LOOP&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0x6&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
291 <emphasis role="preprocessor">#define&#32;EFFECT_E_TREMOLO_WAVEFORM&#32;&#32;&#32;&#32;0x7&#32;</emphasis><emphasis role="comment">//&#32;-&#32;TO&#32;BE&#32;DONE&#32;-</emphasis>
292 <emphasis role="preprocessor">#define&#32;EFFECT_E_SET_PANNING_2&#32;&#32;&#32;&#32;&#32;&#32;&#32;0x8&#32;</emphasis><emphasis role="comment">//&#32;-&#32;TO&#32;BE&#32;DONE&#32;-</emphasis>
293 <emphasis role="preprocessor">#define&#32;EFFECT_E_RETRIGGER_NOTE&#32;&#32;&#32;&#32;&#32;&#32;0x9&#32;</emphasis><emphasis role="comment">//&#32;-&#32;TO&#32;BE&#32;DONE&#32;-</emphasis>
294 <emphasis role="preprocessor">#define&#32;EFFECT_E_FINE_VOLSLIDE_UP&#32;&#32;&#32;&#32;0xA&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
295 <emphasis role="preprocessor">#define&#32;EFFECT_E_FINE_VOLSLIDE_DOWN&#32;&#32;0xB&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
296 <emphasis role="preprocessor">#define&#32;EFFECT_E_NOTE_CUT&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0xC&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
297 <emphasis role="preprocessor">#define&#32;EFFECT_E_NOTE_DELAY&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0xD&#32;</emphasis><emphasis role="comment">//&#32;-&#32;TO&#32;BE&#32;DONE&#32;-</emphasis>
298 <emphasis role="preprocessor">#define&#32;EFFECT_E_PATTERN_DELAY&#32;&#32;&#32;&#32;&#32;&#32;&#32;0xE&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
299 <emphasis role="preprocessor">#define&#32;EFFECT_E_INVERT_LOOP&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0xF&#32;</emphasis><emphasis role="comment">//&#32;-&#32;TO&#32;BE&#32;DONE&#32;-</emphasis>
300 <emphasis role="preprocessor">#define&#32;EFFECT_SET_SPEED&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0xF0&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
301 <emphasis role="preprocessor">#define&#32;EFFECT_SET_TEMPO&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;0xF2&#32;</emphasis><emphasis role="comment">//&#32;Supported</emphasis>
302 
303 <emphasis role="preprocessor">#define&#32;PERIOD_TABLE_LENGTH&#32;&#32;MAXNOTES</emphasis>
304 <emphasis role="preprocessor">#define&#32;FULL_PERIOD_TABLE_LENGTH&#32;&#32;(&#32;PERIOD_TABLE_LENGTH&#32;*&#32;8&#32;)</emphasis>
305 
306 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keyword">const</emphasis>&#32;<emphasis role="keywordtype">short</emphasis>&#32;periodtable[]=
307 {
308 &#32;&#32;&#32;&#32;27392,&#32;25856,&#32;24384,&#32;23040,&#32;21696,&#32;20480,&#32;19328,&#32;18240,&#32;17216,&#32;16256,&#32;15360,&#32;14496,
309 &#32;&#32;&#32;&#32;13696,&#32;12928,&#32;12192,&#32;11520,&#32;10848,&#32;10240,&#32;&#32;9664,&#32;&#32;9120,&#32;&#32;8606,&#32;&#32;8128,&#32;&#32;7680,&#32;&#32;7248,
310 &#32;&#32;&#32;&#32;&#32;6848,&#32;&#32;6464,&#32;&#32;6096,&#32;&#32;5760,&#32;&#32;5424,&#32;&#32;5120,&#32;&#32;4832,&#32;&#32;4560,&#32;&#32;4304,&#32;&#32;4064,&#32;&#32;3840,&#32;&#32;3624,
311 &#32;&#32;&#32;&#32;&#32;3424,&#32;&#32;3232,&#32;&#32;3048,&#32;&#32;2880,&#32;&#32;2712,&#32;&#32;2560,&#32;&#32;2416,&#32;&#32;2280,&#32;&#32;2152,&#32;&#32;2032,&#32;&#32;1920,&#32;&#32;1812,
312 &#32;&#32;&#32;&#32;&#32;1712,&#32;&#32;1616,&#32;&#32;1524,&#32;&#32;1440,&#32;&#32;1356,&#32;&#32;1280,&#32;&#32;1208,&#32;&#32;1140,&#32;&#32;1076,&#32;&#32;1016,&#32;&#32;&#32;960,&#32;&#32;&#32;906,
313 &#32;&#32;&#32;&#32;&#32;&#32;856,&#32;&#32;&#32;808,&#32;&#32;&#32;762,&#32;&#32;&#32;720,&#32;&#32;&#32;678,&#32;&#32;&#32;640,&#32;&#32;&#32;604,&#32;&#32;&#32;570,&#32;&#32;&#32;538,&#32;&#32;&#32;508,&#32;&#32;&#32;480,&#32;&#32;&#32;453,
314 &#32;&#32;&#32;&#32;&#32;&#32;428,&#32;&#32;&#32;404,&#32;&#32;&#32;381,&#32;&#32;&#32;360,&#32;&#32;&#32;339,&#32;&#32;&#32;320,&#32;&#32;&#32;302,&#32;&#32;&#32;285,&#32;&#32;&#32;269,&#32;&#32;&#32;254,&#32;&#32;&#32;240,&#32;&#32;&#32;226,
315 &#32;&#32;&#32;&#32;&#32;&#32;214,&#32;&#32;&#32;202,&#32;&#32;&#32;190,&#32;&#32;&#32;180,&#32;&#32;&#32;170,&#32;&#32;&#32;160,&#32;&#32;&#32;151,&#32;&#32;&#32;143,&#32;&#32;&#32;135,&#32;&#32;&#32;127,&#32;&#32;&#32;120,&#32;&#32;&#32;113,
316 &#32;&#32;&#32;&#32;&#32;&#32;107,&#32;&#32;&#32;101,&#32;&#32;&#32;&#32;95,&#32;&#32;&#32;&#32;90,&#32;&#32;&#32;&#32;85,&#32;&#32;&#32;&#32;80,&#32;&#32;&#32;&#32;75,&#32;&#32;&#32;&#32;71,&#32;&#32;&#32;&#32;67,&#32;&#32;&#32;&#32;63,&#32;&#32;&#32;&#32;60,&#32;&#32;&#32;&#32;56,
317 &#32;&#32;&#32;&#32;&#32;&#32;&#32;53,&#32;&#32;&#32;&#32;50,&#32;&#32;&#32;&#32;47,&#32;&#32;&#32;&#32;45,&#32;&#32;&#32;&#32;42,&#32;&#32;&#32;&#32;40,&#32;&#32;&#32;&#32;37,&#32;&#32;&#32;&#32;35,&#32;&#32;&#32;&#32;33,&#32;&#32;&#32;&#32;31,&#32;&#32;&#32;&#32;30,&#32;&#32;&#32;&#32;28,
318 &#32;&#32;&#32;&#32;&#32;&#32;&#32;27,&#32;&#32;&#32;&#32;25,&#32;&#32;&#32;&#32;24,&#32;&#32;&#32;&#32;22,&#32;&#32;&#32;&#32;21,&#32;&#32;&#32;&#32;20,&#32;&#32;&#32;&#32;19,&#32;&#32;&#32;&#32;18,&#32;&#32;&#32;&#32;17,&#32;&#32;&#32;&#32;16,&#32;&#32;&#32;&#32;15,&#32;&#32;&#32;&#32;14,
319 &#32;&#32;&#32;&#32;&#32;&#32;&#32;13,&#32;&#32;&#32;&#32;13,&#32;&#32;&#32;&#32;12,&#32;&#32;&#32;&#32;11,&#32;&#32;&#32;&#32;11,&#32;&#32;&#32;&#32;10,&#32;&#32;&#32;&#32;&#32;9,&#32;&#32;&#32;&#32;&#32;9,&#32;&#32;&#32;&#32;&#32;8,&#32;&#32;&#32;&#32;&#32;8,&#32;&#32;&#32;&#32;&#32;7,&#32;&#32;&#32;&#32;&#32;7
320 };
321 
322 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keyword">const</emphasis>&#32;<emphasis role="keywordtype">short</emphasis>&#32;sintable[]={
323 &#32;&#32;&#32;&#32;&#32;&#32;0,&#32;&#32;24,&#32;&#32;49,&#32;&#32;74,&#32;&#32;97,&#32;120,&#32;141,161,
324 &#32;&#32;&#32;&#32;180,&#32;197,&#32;212,&#32;224,&#32;235,&#32;244,&#32;250,253,
325 &#32;&#32;&#32;&#32;255,&#32;253,&#32;250,&#32;244,&#32;235,&#32;224,&#32;212,197,
326 &#32;&#32;&#32;&#32;180,&#32;161,&#32;141,&#32;120,&#32;&#32;97,&#32;&#32;74,&#32;&#32;49,&#32;24
327 };
328 
329 <emphasis role="keyword">typedef</emphasis>&#32;<emphasis role="keyword">struct&#32;</emphasis>modtype_
330 {
331 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;signature[5];
332 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;numberofchannels;
333 }modtype;
334 
335 modtype&#32;modlist[]=
336 {
337 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;M!K!&quot;</emphasis>,4},
338 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;M.K.&quot;</emphasis>,4},
339 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;FLT4&quot;</emphasis>,4},
340 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;FLT8&quot;</emphasis>,8},
341 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;4CHN&quot;</emphasis>,4},
342 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;6CHN&quot;</emphasis>,6},
343 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;8CHN&quot;</emphasis>,8},
344 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;10CH&quot;</emphasis>,10},
345 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;12CH&quot;</emphasis>,12},
346 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;14CH&quot;</emphasis>,14},
347 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;16CH&quot;</emphasis>,16},
348 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;18CH&quot;</emphasis>,18},
349 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;20CH&quot;</emphasis>,20},
350 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;22CH&quot;</emphasis>,22},
351 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;24CH&quot;</emphasis>,24},
352 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;26CH&quot;</emphasis>,26},
353 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;28CH&quot;</emphasis>,28},
354 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;30CH&quot;</emphasis>,30},
355 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;32CH&quot;</emphasis>,32},
356 &#32;&#32;&#32;&#32;{&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>,0}
357 };
358 
360 
361 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;memcopy(&#32;<emphasis role="keywordtype">void</emphasis>&#32;*&#32;dest,&#32;<emphasis role="keywordtype">void</emphasis>&#32;*<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1a633906574fe6e39b7f2840bed0e49832">source</link>,&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>&#32;)
362 {
363 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>&#32;i;
364 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;*&#32;d,*s;
365 
366 &#32;&#32;&#32;&#32;d=(<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>*)dest;
367 &#32;&#32;&#32;&#32;s=(<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>*)<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1a633906574fe6e39b7f2840bed0e49832">source</link>;
368 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(i=0;i&lt;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>;i++)
369 &#32;&#32;&#32;&#32;{
370 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;d[i]=s[i];
371 &#32;&#32;&#32;&#32;}
372 }
373 
374 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;memclear(&#32;<emphasis role="keywordtype">void</emphasis>&#32;*&#32;dest,&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;<link linkend="_classvalue">value</link>,&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>&#32;)
375 {
376 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>&#32;i;
377 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;*&#32;d;
378 
379 &#32;&#32;&#32;&#32;d=(<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>*)dest;
380 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(i=0;i&lt;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>;i++)
381 &#32;&#32;&#32;&#32;{
382 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;d[i]=<link linkend="_classvalue">value</link>;
383 &#32;&#32;&#32;&#32;}
384 }
385 
386 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">int</emphasis>&#32;memcompare(&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;*&#32;buf1,&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;*&#32;buf2,&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>&#32;)
387 {
388 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">int</emphasis>&#32;i;
389 
390 &#32;&#32;&#32;&#32;i&#32;=&#32;0;
391 
392 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">while</emphasis>(i&lt;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1a3d1e3edfcf61ca2d831883e1afbad89e">size</link>)
393 &#32;&#32;&#32;&#32;{
394 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(buf1[i]&#32;!=&#32;buf2[i])
395 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
396 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;0;
397 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
398 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i++;
399 &#32;&#32;&#32;&#32;}
400 
401 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;1;
402 }
403 
404 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">int</emphasis>&#32;getnote(&#32;<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;mod,&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">short</emphasis>&#32;period,&#32;<emphasis role="keywordtype">int</emphasis>&#32;finetune&#32;)
405 {
406 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;i;
407 
408 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(i&#32;=&#32;0;&#32;i&#32;&lt;&#32;FULL_PERIOD_TABLE_LENGTH;&#32;i++)
409 &#32;&#32;&#32;&#32;{
410 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(period&#32;&gt;=&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;fullperiod[i])
411 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
412 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;i;
413 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
414 &#32;&#32;&#32;&#32;}
415 
416 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a13b3cbb582faebb90f9c2de9d9c8f160">MAXNOTES</link>;
417 }
418 
419 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;worknote(&#32;<link linkend="_structnote">note</link>&#32;*&#32;nptr,&#32;<link linkend="_structchannel">channel</link>&#32;*&#32;cptr,&#32;<emphasis role="keywordtype">char</emphasis>&#32;t,&#32;<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;mod&#32;)
420 {
421 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;<link linkend="_structsample">sample</link>,&#32;period,&#32;effect,&#32;operiod;
422 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;curnote,&#32;arpnote;
423 
424 &#32;&#32;&#32;&#32;<link linkend="_structsample">sample</link>&#32;=&#32;(nptr-&gt;<link linkend="_structnote_1a1a3dee8f83428b3c9113ac90a185706b">sampperiod</link>&#32;&amp;&#32;0xF0)&#32;|&#32;(nptr-&gt;<link linkend="_structnote_1a1ab16ca5e1fa928cb69aa0296e6a36b7">sampeffect</link>&#32;&gt;&gt;&#32;4);
425 &#32;&#32;&#32;&#32;period&#32;=&#32;((nptr-&gt;<link linkend="_structnote_1a1a3dee8f83428b3c9113ac90a185706b">sampperiod</link>&#32;&amp;&#32;0xF)&#32;&lt;&lt;&#32;8)&#32;|&#32;nptr-&gt;<link linkend="_structnote_1aebbd6925f91b4ff05683ae7ef41f68e1">period</link>;
426 &#32;&#32;&#32;&#32;effect&#32;=&#32;((nptr-&gt;<link linkend="_structnote_1a1ab16ca5e1fa928cb69aa0296e6a36b7">sampeffect</link>&#32;&amp;&#32;0xF)&#32;&lt;&lt;&#32;8)&#32;|&#32;nptr-&gt;<link linkend="_structnote_1acf669db15880ff48d576b15b3fba2ca6">effect</link>;
427 
428 &#32;&#32;&#32;&#32;operiod&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>;
429 
430 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(&#32;period&#32;||&#32;<link linkend="_structsample">sample</link>&#32;)
431 &#32;&#32;&#32;&#32;{
432 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;<link linkend="_structsample">sample</link>&#32;&amp;&amp;&#32;<link linkend="_structsample">sample</link>&#32;&lt;&#32;32&#32;)
433 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
434 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ab9cd68b86b9d2b33a4be6486fdc05adb">sampnum</link>&#32;=&#32;<link linkend="_structsample">sample</link>&#32;-&#32;1;
435 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
436 
437 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;period&#32;||&#32;<link linkend="_structsample">sample</link>&#32;)
438 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
439 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a37c8ea1afdf130df796e39441c000d94">sampdata</link>&#32;=&#32;(<emphasis role="keywordtype">char</emphasis>&#32;*)&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;sampledata[cptr-&gt;<link linkend="_structchannel_1ab9cd68b86b9d2b33a4be6486fdc05adb">sampnum</link>];
440 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a848a5451b830aa05716cadf034947d08">length</link>&#32;=&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;song.samples[cptr-&gt;<link linkend="_structchannel_1ab9cd68b86b9d2b33a4be6486fdc05adb">sampnum</link>].length;
441 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a0ddbd4d1c0e69397cc192344491f5284">reppnt</link>&#32;=&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;song.samples[cptr-&gt;<link linkend="_structchannel_1ab9cd68b86b9d2b33a4be6486fdc05adb">sampnum</link>].reppnt;
442 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a68ecfbf39be343ea9f1c716ce3dfc6f2">replen</link>&#32;=&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;song.samples[cptr-&gt;<link linkend="_structchannel_1ab9cd68b86b9d2b33a4be6486fdc05adb">sampnum</link>].replen;
443 
444 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a765e409f14117bd9e7796fd1c554f66e">finetune</link>&#32;=&#32;(<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;song.samples[cptr-&gt;<link linkend="_structchannel_1ab9cd68b86b9d2b33a4be6486fdc05adb">sampnum</link>].finetune)&amp;0xF;
445 
446 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(effect&gt;&gt;8!=4&#32;&amp;&amp;&#32;effect&gt;&gt;8!=6)
447 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
448 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1aed5d30d22906d5a1840cf3489f9dd6ea">vibraperiod</link>=0;
449 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a57fc68673436db50277b98229dacdaf1">vibrapointeur</link>=0;
450 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
451 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
452 
453 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;(<link linkend="_structsample">sample</link>&#32;!=&#32;0)&#32;&amp;&amp;&#32;(&#32;(effect&gt;&gt;8)&#32;!=&#32;EFFECT_VOLSLIDE_TONEPORTA&#32;)&#32;)
454 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
455 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;song.samples[cptr-&gt;<link linkend="_structchannel_1ab9cd68b86b9d2b33a4be6486fdc05adb">sampnum</link>].volume;
456 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1abe470652e5c99ea35e90534dfe9baa16">volumeslide</link>&#32;=&#32;0;
457 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
458 
459 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;(&#32;(effect&gt;&gt;8)&#32;!=&#32;EFFECT_TONE_PORTAMENTO&#32;&amp;&amp;&#32;(effect&gt;&gt;8)!=EFFECT_VOLSLIDE_TONEPORTA)&#32;)
460 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
461 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(period!=0)
462 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a6bd341bc9e3369143982e8ecdcea8a8c">samppos</link>&#32;=&#32;0;
463 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
464 
465 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a09c2c524fa35b3784c61f7f7c1220ebf">decalperiod</link>&#32;=&#32;0;
466 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;period&#32;)
467 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
468 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(cptr-&gt;<link linkend="_structchannel_1a765e409f14117bd9e7796fd1c554f66e">finetune</link>)
469 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
470 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a765e409f14117bd9e7796fd1c554f66e">finetune</link>&#32;&lt;=&#32;7&#32;)
471 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
472 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;period&#32;=&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;fullperiod[getnote(mod,period,0)&#32;+&#32;cptr-&gt;<link linkend="_structchannel_1a765e409f14117bd9e7796fd1c554f66e">finetune</link>];
473 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
474 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
475 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
476 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;period&#32;=&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;fullperiod[getnote(mod,period,0)&#32;-&#32;(16&#32;-&#32;(cptr-&gt;<link linkend="_structchannel_1a765e409f14117bd9e7796fd1c554f66e">finetune</link>))&#32;];
477 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
478 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
479 
480 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;=&#32;period;
481 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
482 
483 &#32;&#32;&#32;&#32;}
484 
485 &#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ac1f3e6a64fbc99d61e6d9ad30f100f9f">effect</link>&#32;=&#32;0;
486 &#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ad84b1207f533b37fbcee3517207a72d3">parameffect</link>&#32;=&#32;0;
487 &#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a5d7384f9280a5b7ca2ed6d1f8b26d87d">effect_code</link>&#32;=&#32;effect;
488 
489 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">switch</emphasis>&#32;(effect&#32;&gt;&gt;&#32;8)
490 &#32;&#32;&#32;&#32;{
491 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_ARPEGGIO:
492 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
493 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[0]:&#32;Arpeggio</emphasis>
494 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[0][x][y]&#32;means&#32;&quot;play&#32;note,&#32;note+x&#32;semitones,&#32;note+y</emphasis>
495 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;semitones,&#32;then&#32;return&#32;to&#32;original&#32;note&quot;.&#32;The&#32;fluctuations&#32;are</emphasis>
496 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;carried&#32;out&#32;evenly&#32;spaced&#32;in&#32;one&#32;pattern&#32;division.&#32;They&#32;are&#32;usually</emphasis>
497 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;used&#32;to&#32;simulate&#32;chords,&#32;but&#32;this&#32;doesn&apos;t&#32;work&#32;too&#32;well.&#32;They&#32;are</emphasis>
498 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;also&#32;used&#32;to&#32;produce&#32;heavy&#32;vibrato.&#32;A&#32;major&#32;chord&#32;is&#32;when&#32;x=4,&#32;y=7.</emphasis>
499 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;A&#32;minor&#32;chord&#32;is&#32;when&#32;x=3,&#32;y=7.</emphasis>
500 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
501 
502 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(effect&amp;0xff)
503 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
504 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ac1f3e6a64fbc99d61e6d9ad30f100f9f">effect</link>&#32;=&#32;EFFECT_ARPEGGIO;
505 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ad84b1207f533b37fbcee3517207a72d3">parameffect</link>&#32;=&#32;effect&amp;0xff;
506 
507 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1aa050b07e5b4dd2445af29395f692d017">ArpIndex</link>&#32;=&#32;0;
508 
509 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;curnote&#32;=&#32;getnote(mod,cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>,cptr-&gt;<link linkend="_structchannel_1a765e409f14117bd9e7796fd1c554f66e">finetune</link>);
510 
511 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1adeddc297a81015f86744ea5c710619dd">Arpperiods</link>[0]&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>;
512 
513 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;arpnote&#32;=&#32;curnote&#32;+&#32;(((cptr-&gt;<link linkend="_structchannel_1ad84b1207f533b37fbcee3517207a72d3">parameffect</link>&gt;&gt;4)&amp;0xF)*8);
514 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;arpnote&#32;&gt;=&#32;FULL_PERIOD_TABLE_LENGTH&#32;)
515 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;arpnote&#32;=&#32;FULL_PERIOD_TABLE_LENGTH&#32;-&#32;1;
516 
517 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1adeddc297a81015f86744ea5c710619dd">Arpperiods</link>[1]&#32;=&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;fullperiod[arpnote];
518 
519 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;arpnote&#32;=&#32;curnote&#32;+&#32;(((cptr-&gt;<link linkend="_structchannel_1ad84b1207f533b37fbcee3517207a72d3">parameffect</link>)&amp;0xF)*8);
520 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;arpnote&#32;&gt;=&#32;FULL_PERIOD_TABLE_LENGTH&#32;)
521 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;arpnote&#32;=&#32;FULL_PERIOD_TABLE_LENGTH&#32;-&#32;1;
522 
523 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1adeddc297a81015f86744ea5c710619dd">Arpperiods</link>[2]&#32;=&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;fullperiod[arpnote];
524 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
525 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
526 
527 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_PORTAMENTO_UP:
528 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
529 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[1]:&#32;Slide&#32;up</emphasis>
530 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[1][x][y]&#32;means&#32;&quot;smoothly&#32;decrease&#32;the&#32;period&#32;of&#32;current</emphasis>
531 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sample&#32;by&#32;x*16+y&#32;after&#32;each&#32;tick&#32;in&#32;the&#32;division&quot;.&#32;The</emphasis>
532 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ticks/division&#32;are&#32;set&#32;with&#32;the&#32;&apos;set&#32;speed&apos;&#32;effect&#32;(see&#32;below).&#32;If</emphasis>
533 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;period&#32;of&#32;the&#32;note&#32;being&#32;played&#32;is&#32;z,&#32;then&#32;the&#32;final&#32;period</emphasis>
534 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;will&#32;be&#32;z&#32;-&#32;(x*16&#32;+&#32;y)*(ticks&#32;-&#32;1).&#32;As&#32;the&#32;slide&#32;rate&#32;depends&#32;on</emphasis>
535 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;speed,&#32;changing&#32;the&#32;speed&#32;will&#32;change&#32;the&#32;slide.&#32;You&#32;cannot</emphasis>
536 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;slide&#32;beyond&#32;the&#32;note&#32;B3&#32;(period&#32;113).</emphasis>
537 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
538 
539 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ac1f3e6a64fbc99d61e6d9ad30f100f9f">effect</link>&#32;=&#32;EFFECT_PORTAMENTO_UP;
540 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ad84b1207f533b37fbcee3517207a72d3">parameffect</link>&#32;=&#32;effect&amp;0xff;
541 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
542 
543 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_PORTAMENTO_DOWN:
544 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
545 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[2]:&#32;Slide&#32;down</emphasis>
546 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[2][x][y]&#32;means&#32;&quot;smoothly&#32;increase&#32;the&#32;period&#32;of&#32;current</emphasis>
547 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sample&#32;by&#32;x*16+y&#32;after&#32;each&#32;tick&#32;in&#32;the&#32;division&quot;.&#32;Similar&#32;to&#32;[1],</emphasis>
548 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;but&#32;lowers&#32;the&#32;pitch.&#32;You&#32;cannot&#32;slide&#32;beyond&#32;the&#32;note&#32;C1&#32;(period</emphasis>
549 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;856).</emphasis>
550 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
551 
552 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ac1f3e6a64fbc99d61e6d9ad30f100f9f">effect</link>&#32;=&#32;EFFECT_PORTAMENTO_DOWN;
553 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ad84b1207f533b37fbcee3517207a72d3">parameffect</link>&#32;=&#32;effect&amp;0xff;
554 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
555 
556 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_TONE_PORTAMENTO:
557 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
558 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[3]:&#32;Slide&#32;to&#32;note</emphasis>
559 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[3][x][y]&#32;means&#32;&quot;smoothly&#32;change&#32;the&#32;period&#32;of&#32;current&#32;sample</emphasis>
560 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;by&#32;x*16+y&#32;after&#32;each&#32;tick&#32;in&#32;the&#32;division,&#32;never&#32;sliding&#32;beyond</emphasis>
561 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;current&#32;period&quot;.&#32;The&#32;period-length&#32;in&#32;this&#32;channel&apos;s&#32;division&#32;is&#32;a</emphasis>
562 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;parameter&#32;to&#32;this&#32;effect,&#32;and&#32;hence&#32;is&#32;not&#32;played.&#32;Sliding&#32;to&#32;a</emphasis>
563 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;note&#32;is&#32;similar&#32;to&#32;effects&#32;[1]&#32;and&#32;[2],&#32;but&#32;the&#32;slide&#32;will&#32;not&#32;go</emphasis>
564 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;beyond&#32;the&#32;given&#32;period,&#32;and&#32;the&#32;direction&#32;is&#32;implied&#32;by&#32;that</emphasis>
565 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;period.&#32;If&#32;x&#32;and&#32;y&#32;are&#32;both&#32;0,&#32;then&#32;the&#32;old&#32;slide&#32;will&#32;continue.</emphasis>
566 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
567 
568 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ac1f3e6a64fbc99d61e6d9ad30f100f9f">effect</link>&#32;=&#32;EFFECT_TONE_PORTAMENTO;
569 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;(effect&amp;0xff)&#32;!=&#32;0&#32;)
570 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
571 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a7052c0c2f4b3bebcb65bf9b5a9b01649">portaspeed</link>&#32;=&#32;(short)(effect&amp;0xff);
572 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
573 
574 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(period!=0)
575 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
576 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ab44b39df2cf3f930f20209eac540a943">portaperiod</link>&#32;=&#32;period;
577 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;=&#32;operiod;
578 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
579 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
580 
581 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_VIBRATO:
582 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
583 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[4]:&#32;Vibrato</emphasis>
584 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[4][x][y]&#32;means&#32;&quot;oscillate&#32;the&#32;sample&#32;pitch&#32;using&#32;a</emphasis>
585 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;particular&#32;waveform&#32;with&#32;amplitude&#32;y/16&#32;semitones,&#32;such&#32;that&#32;(x&#32;*</emphasis>
586 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ticks)/64&#32;cycles&#32;occur&#32;in&#32;the&#32;division&quot;.&#32;The&#32;waveform&#32;is&#32;set&#32;using</emphasis>
587 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;effect&#32;[14][4].&#32;By&#32;placing&#32;vibrato&#32;effects&#32;on&#32;consecutive</emphasis>
588 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;divisions,&#32;the&#32;vibrato&#32;effect&#32;can&#32;be&#32;maintained.&#32;If&#32;either&#32;x&#32;or&#32;y</emphasis>
589 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;are&#32;0,&#32;then&#32;the&#32;old&#32;vibrato&#32;values&#32;will&#32;be&#32;used.</emphasis>
590 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
591 
592 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ac1f3e6a64fbc99d61e6d9ad30f100f9f">effect</link>&#32;=&#32;EFFECT_VIBRATO;
593 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;(&#32;effect&#32;&amp;&#32;0x0F&#32;)&#32;!=&#32;0&#32;)&#32;<emphasis role="comment">//&#32;Depth&#32;continue&#32;or&#32;change&#32;?</emphasis>
594 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1aaf186bc2f2a6c9f2705ca57e286c675d">vibraparam</link>&#32;=&#32;(cptr-&gt;<link linkend="_structchannel_1aaf186bc2f2a6c9f2705ca57e286c675d">vibraparam</link>&#32;&amp;&#32;0xF0)&#32;|&#32;(&#32;effect&#32;&amp;&#32;0x0F&#32;);
595 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;(&#32;effect&#32;&amp;&#32;0xF0&#32;)&#32;!=&#32;0&#32;)&#32;<emphasis role="comment">//&#32;Speed&#32;continue&#32;or&#32;change&#32;?</emphasis>
596 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1aaf186bc2f2a6c9f2705ca57e286c675d">vibraparam</link>&#32;=&#32;(cptr-&gt;<link linkend="_structchannel_1aaf186bc2f2a6c9f2705ca57e286c675d">vibraparam</link>&#32;&amp;&#32;0x0F)&#32;|&#32;(&#32;effect&#32;&amp;&#32;0xF0&#32;);
597 
598 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
599 
600 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_VOLSLIDE_TONEPORTA:
601 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
602 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[5]:&#32;Continue&#32;&apos;Slide&#32;to&#32;note&apos;,&#32;but&#32;also&#32;do&#32;Volume&#32;slide</emphasis>
603 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[5][x][y]&#32;means&#32;&quot;either&#32;slide&#32;the&#32;volume&#32;up&#32;x*(ticks&#32;-&#32;1)&#32;or</emphasis>
604 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;slide&#32;the&#32;volume&#32;down&#32;y*(ticks&#32;-&#32;1),&#32;at&#32;the&#32;same&#32;time&#32;as&#32;continuing</emphasis>
605 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;last&#32;&apos;Slide&#32;to&#32;note&apos;&quot;.&#32;It&#32;is&#32;illegal&#32;for&#32;both&#32;x&#32;and&#32;y&#32;to&#32;be</emphasis>
606 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;non-zero.&#32;You&#32;cannot&#32;slide&#32;outside&#32;the&#32;volume&#32;range&#32;0..64.&#32;The</emphasis>
607 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;period-length&#32;in&#32;this&#32;channel&apos;s&#32;division&#32;is&#32;a&#32;parameter&#32;to&#32;this</emphasis>
608 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;effect,&#32;and&#32;hence&#32;is&#32;not&#32;played.</emphasis>
609 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
610 
611 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;period&#32;!=&#32;0&#32;)
612 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
613 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ab44b39df2cf3f930f20209eac540a943">portaperiod</link>&#32;=&#32;period;
614 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;=&#32;operiod;
615 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
616 
617 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ac1f3e6a64fbc99d61e6d9ad30f100f9f">effect</link>&#32;=&#32;EFFECT_VOLSLIDE_TONEPORTA;
618 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;(&#32;effect&#32;&amp;&#32;0xFF&#32;)&#32;!=&#32;0&#32;)
619 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1abe470652e5c99ea35e90534dfe9baa16">volumeslide</link>&#32;=&#32;(&#32;effect&#32;&amp;&#32;0xFF&#32;);
620 
621 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
622 
623 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_VOLSLIDE_VIBRATO:
624 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
625 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[6]:&#32;Continue&#32;&apos;Vibrato&apos;,&#32;but&#32;also&#32;do&#32;Volume&#32;slide</emphasis>
626 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[6][x][y]&#32;means&#32;&quot;either&#32;slide&#32;the&#32;volume&#32;up&#32;x*(ticks&#32;-&#32;1)&#32;or</emphasis>
627 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;slide&#32;the&#32;volume&#32;down&#32;y*(ticks&#32;-&#32;1),&#32;at&#32;the&#32;same&#32;time&#32;as&#32;continuing</emphasis>
628 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;last&#32;&apos;Vibrato&apos;&quot;.&#32;It&#32;is&#32;illegal&#32;for&#32;both&#32;x&#32;and&#32;y&#32;to&#32;be&#32;non-zero.</emphasis>
629 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;You&#32;cannot&#32;slide&#32;outside&#32;the&#32;volume&#32;range&#32;0..64.</emphasis>
630 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
631 
632 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ac1f3e6a64fbc99d61e6d9ad30f100f9f">effect</link>&#32;=&#32;EFFECT_VOLSLIDE_VIBRATO;
633 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;(effect&#32;&amp;&#32;0xFF)&#32;!=&#32;0&#32;)
634 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1abe470652e5c99ea35e90534dfe9baa16">volumeslide</link>&#32;=&#32;(effect&#32;&amp;&#32;0xFF);
635 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
636 
637 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_SET_OFFSET:
638 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
639 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[9]:&#32;Set&#32;sample&#32;offset</emphasis>
640 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[9][x][y]&#32;means&#32;&quot;play&#32;the&#32;sample&#32;from&#32;offset&#32;x*4096&#32;+&#32;y*256&quot;.</emphasis>
641 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;The&#32;offset&#32;is&#32;measured&#32;in&#32;words.&#32;If&#32;no&#32;sample&#32;is&#32;given,&#32;yet&#32;one&#32;is</emphasis>
642 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;still&#32;playing&#32;on&#32;this&#32;channel,&#32;it&#32;should&#32;be&#32;retriggered&#32;to&#32;the&#32;new</emphasis>
643 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;offset&#32;using&#32;the&#32;current&#32;volume.</emphasis>
644 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
645 
646 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a6bd341bc9e3369143982e8ecdcea8a8c">samppos</link>&#32;=&#32;((effect&gt;&gt;4)&#32;*&#32;4096)&#32;+&#32;((effect&amp;0xF)*256);
647 
648 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
649 
650 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_VOLUME_SLIDE:
651 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
652 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[10]:&#32;Volume&#32;slide</emphasis>
653 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[10][x][y]&#32;means&#32;&quot;either&#32;slide&#32;the&#32;volume&#32;up&#32;x*(ticks&#32;-&#32;1)&#32;or</emphasis>
654 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;slide&#32;the&#32;volume&#32;down&#32;y*(ticks&#32;-&#32;1)&quot;.&#32;If&#32;both&#32;x&#32;and&#32;y&#32;are&#32;non-zero,</emphasis>
655 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;then&#32;the&#32;y&#32;value&#32;is&#32;ignored&#32;(assumed&#32;to&#32;be&#32;0).&#32;You&#32;cannot&#32;slide</emphasis>
656 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;outside&#32;the&#32;volume&#32;range&#32;0..64.</emphasis>
657 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
658 
659 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ac1f3e6a64fbc99d61e6d9ad30f100f9f">effect</link>&#32;=&#32;EFFECT_VOLUME_SLIDE;
660 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1abe470652e5c99ea35e90534dfe9baa16">volumeslide</link>&#32;=&#32;(effect&#32;&amp;&#32;0xFF);
661 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
662 
663 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_JUMP_POSITION:
664 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
665 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[11]:&#32;Position&#32;Jump</emphasis>
666 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[11][x][y]&#32;means&#32;&quot;stop&#32;the&#32;pattern&#32;after&#32;this&#32;division,&#32;and</emphasis>
667 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;continue&#32;the&#32;song&#32;at&#32;song-position&#32;x*16+y&quot;.&#32;This&#32;shifts&#32;the</emphasis>
668 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&apos;pattern-cursor&apos;&#32;in&#32;the&#32;pattern&#32;table&#32;(see&#32;above).&#32;Legal&#32;values&#32;for</emphasis>
669 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x*16+y&#32;are&#32;from&#32;0&#32;to&#32;127.</emphasis>
670 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
671 
672 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;tablepos&#32;=&#32;(effect&#32;&amp;&#32;0xFF);
673 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;tablepos&#32;&gt;=&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;song.length)
674 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
675 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;tablepos&#32;=&#32;0;
676 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
677 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;patternpos&#32;=&#32;0;
678 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;jump_loop_effect&#32;=&#32;1;
679 
680 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
681 
682 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_SET_VOLUME:
683 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
684 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[12]:&#32;Set&#32;volume</emphasis>
685 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[12][x][y]&#32;means&#32;&quot;set&#32;current&#32;sample&apos;s&#32;volume&#32;to&#32;x*16+y&quot;.</emphasis>
686 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Legal&#32;volumes&#32;are&#32;0..64.</emphasis>
687 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
688 
689 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;(effect&#32;&amp;&#32;0xFF);
690 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
691 
692 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_PATTERN_BREAK:
693 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
694 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[13]:&#32;Pattern&#32;Break</emphasis>
695 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[13][x][y]&#32;means&#32;&quot;stop&#32;the&#32;pattern&#32;after&#32;this&#32;division,&#32;and</emphasis>
696 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;continue&#32;the&#32;song&#32;at&#32;the&#32;next&#32;pattern&#32;at&#32;division&#32;x*10+y&quot;&#32;(the&#32;10</emphasis>
697 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;is&#32;not&#32;a&#32;typo).&#32;Legal&#32;divisions&#32;are&#32;from&#32;0&#32;to&#32;63&#32;(note&#32;Protracker</emphasis>
698 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;exception&#32;above).</emphasis>
699 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
700 
701 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;patternpos&#32;=&#32;(&#32;((effect&gt;&gt;4)&amp;0xF)*10&#32;+&#32;(effect&amp;0xF)&#32;)&#32;*&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;number_of_channels;
702 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;jump_loop_effect&#32;=&#32;1;
703 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;tablepos++;
704 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;tablepos&#32;&gt;=&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;song.length)
705 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
706 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;tablepos&#32;=&#32;0;
707 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
708 
709 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
710 
711 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_EXTENDED:
712 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">switch</emphasis>(&#32;(effect&gt;&gt;4)&#32;&amp;&#32;0xF&#32;)
713 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
714 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_E_FINE_PORTA_UP:
715 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
716 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[14][1]:&#32;Fineslide&#32;up</emphasis>
717 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[14][1][x]&#32;means&#32;&quot;decrement&#32;the&#32;period&#32;of&#32;the&#32;current&#32;sample</emphasis>
718 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;by&#32;x&quot;.&#32;The&#32;incrementing&#32;takes&#32;place&#32;at&#32;the&#32;beginning&#32;of&#32;the</emphasis>
719 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;division,&#32;and&#32;hence&#32;there&#32;is&#32;no&#32;actual&#32;sliding.&#32;You&#32;cannot&#32;slide</emphasis>
720 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;beyond&#32;the&#32;note&#32;B3&#32;(period&#32;113).</emphasis>
721 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
722 
723 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;-=&#32;(effect&#32;&amp;&#32;0xF);
724 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;&lt;&#32;113&#32;)
725 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;=&#32;113;
726 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
727 
728 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_E_FINE_PORTA_DOWN:
729 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
730 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[14][2]:&#32;Fineslide&#32;down</emphasis>
731 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[14][2][x]&#32;means&#32;&quot;increment&#32;the&#32;period&#32;of&#32;the&#32;current&#32;sample</emphasis>
732 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;by&#32;x&quot;.&#32;Similar&#32;to&#32;[14][1]&#32;but&#32;shifts&#32;the&#32;pitch&#32;down.&#32;You&#32;cannot</emphasis>
733 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;slide&#32;beyond&#32;the&#32;note&#32;C1&#32;(period&#32;856).</emphasis>
734 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
735 
736 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;+=&#32;(effect&#32;&amp;&#32;0xF);
737 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;&gt;&#32;856&#32;)
738 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;=&#32;856;
739 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
740 
741 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_E_FINE_VOLSLIDE_UP:
742 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
743 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[14][10]:&#32;Fine&#32;volume&#32;slide&#32;up</emphasis>
744 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[14][10][x]&#32;means&#32;&quot;increment&#32;the&#32;volume&#32;of&#32;the&#32;current&#32;sample</emphasis>
745 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;by&#32;x&quot;.&#32;The&#32;incrementing&#32;takes&#32;place&#32;at&#32;the&#32;beginning&#32;of&#32;the</emphasis>
746 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;division,&#32;and&#32;hence&#32;there&#32;is&#32;no&#32;sliding.&#32;You&#32;cannot&#32;slide&#32;beyond</emphasis>
747 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;volume&#32;64.</emphasis>
748 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
749 
750 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;+=&#32;(effect&#32;&amp;&#32;0xF);
751 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&gt;64&#32;)
752 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;64;
753 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
754 
755 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_E_FINE_VOLSLIDE_DOWN:
756 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
757 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[14][11]:&#32;Fine&#32;volume&#32;slide&#32;down</emphasis>
758 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[14][11][x]&#32;means&#32;&quot;decrement&#32;the&#32;volume&#32;of&#32;the&#32;current&#32;sample</emphasis>
759 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;by&#32;x&quot;.&#32;Similar&#32;to&#32;[14][10]&#32;but&#32;lowers&#32;volume.&#32;You&#32;cannot&#32;slide</emphasis>
760 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;beyond&#32;volume&#32;0.</emphasis>
761 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
762 
763 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;-=&#32;(effect&#32;&amp;&#32;0xF);
764 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;&gt;&#32;200&#32;)
765 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;0;
766 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
767 
768 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_E_PATTERN_LOOP:
769 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
770 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[14][6]:&#32;Loop&#32;pattern</emphasis>
771 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[14][6][x]&#32;means&#32;&quot;set&#32;the&#32;start&#32;of&#32;a&#32;loop&#32;to&#32;this&#32;division&#32;if</emphasis>
772 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;x&#32;is&#32;0,&#32;otherwise&#32;after&#32;this&#32;division,&#32;jump&#32;back&#32;to&#32;the&#32;start&#32;of&#32;a</emphasis>
773 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;loop&#32;and&#32;play&#32;it&#32;another&#32;x&#32;times&#32;before&#32;continuing&quot;.&#32;If&#32;the&#32;start</emphasis>
774 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;of&#32;the&#32;loop&#32;was&#32;not&#32;set,&#32;it&#32;will&#32;default&#32;to&#32;the&#32;start&#32;of&#32;the</emphasis>
775 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;current&#32;pattern.&#32;Hence&#32;&apos;loop&#32;pattern&apos;&#32;cannot&#32;be&#32;performed&#32;across</emphasis>
776 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;multiple&#32;patterns.&#32;Note&#32;that&#32;loops&#32;do&#32;not&#32;support&#32;nesting,&#32;and&#32;you</emphasis>
777 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;may&#32;generate&#32;an&#32;infinite&#32;loop&#32;if&#32;you&#32;try&#32;to&#32;nest&#32;&apos;loop&#32;pattern&apos;s.</emphasis>
778 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
779 
780 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;effect&#32;&amp;&#32;0xF&#32;)
781 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
782 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a5443a47d6f708bad8f77fb0f5d59a94f">patternloopcnt</link>&#32;)
783 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
784 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a5443a47d6f708bad8f77fb0f5d59a94f">patternloopcnt</link>--;
785 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a5443a47d6f708bad8f77fb0f5d59a94f">patternloopcnt</link>&#32;)
786 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
787 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;patternpos&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1a092ceb02ef11fa6fad2f877bb5951748">patternloopstartpoint</link>;
788 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;jump_loop_effect&#32;=&#32;1;
789 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
790 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
791 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
792 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a092ceb02ef11fa6fad2f877bb5951748">patternloopstartpoint</link>&#32;=&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;patternpos&#32;;
793 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
794 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
795 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
796 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
797 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a5443a47d6f708bad8f77fb0f5d59a94f">patternloopcnt</link>&#32;=&#32;(effect&#32;&amp;&#32;0xF);
798 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;patternpos&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1a092ceb02ef11fa6fad2f877bb5951748">patternloopstartpoint</link>;
799 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;jump_loop_effect&#32;=&#32;1;
800 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
801 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
802 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>&#32;<emphasis role="comment">//&#32;Start&#32;point</emphasis>
803 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
804 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a092ceb02ef11fa6fad2f877bb5951748">patternloopstartpoint</link>&#32;=&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;patternpos;
805 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
806 
807 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
808 
809 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_E_PATTERN_DELAY:
810 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
811 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[14][14]:&#32;Delay&#32;pattern</emphasis>
812 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[14][14][x]&#32;means&#32;&quot;after&#32;this&#32;division&#32;there&#32;will&#32;be&#32;a&#32;delay</emphasis>
813 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;equivalent&#32;to&#32;the&#32;time&#32;taken&#32;to&#32;play&#32;x&#32;divisions&#32;after&#32;which&#32;the</emphasis>
814 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;pattern&#32;will&#32;be&#32;resumed&quot;.&#32;The&#32;delay&#32;only&#32;relates&#32;to&#32;the</emphasis>
815 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;interpreting&#32;of&#32;new&#32;divisions,&#32;and&#32;all&#32;effects&#32;and&#32;previous&#32;notes</emphasis>
816 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;continue&#32;during&#32;delay.</emphasis>
817 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
818 
819 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;patterndelay&#32;=&#32;(effect&#32;&amp;&#32;0xF);
820 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
821 
822 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_E_NOTE_CUT:
823 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
824 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[14][12]:&#32;Cut&#32;sample</emphasis>
825 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[14][12][x]&#32;means&#32;&quot;after&#32;the&#32;current&#32;sample&#32;has&#32;been&#32;played</emphasis>
826 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;for&#32;x&#32;ticks&#32;in&#32;this&#32;division,&#32;its&#32;volume&#32;will&#32;be&#32;set&#32;to&#32;0&quot;.&#32;This</emphasis>
827 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;implies&#32;that&#32;if&#32;x&#32;is&#32;0,&#32;then&#32;you&#32;will&#32;not&#32;hear&#32;any&#32;of&#32;the&#32;sample.</emphasis>
828 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;If&#32;you&#32;wish&#32;to&#32;insert&#32;&quot;silence&quot;&#32;in&#32;a&#32;pattern,&#32;it&#32;is&#32;better&#32;to&#32;use&#32;a</emphasis>
829 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&quot;silence&quot;-sample&#32;(see&#32;above)&#32;due&#32;to&#32;the&#32;lack&#32;of&#32;proper&#32;support&#32;for</emphasis>
830 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this&#32;effect.</emphasis>
831 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
832 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ac1f3e6a64fbc99d61e6d9ad30f100f9f">effect</link>&#32;=&#32;EFFECT_E_NOTE_CUT;
833 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a5f4bd333add89c9b57f924f58b8a5a77">cut_param</link>&#32;=&#32;(effect&#32;&amp;&#32;0xF);
834 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!cptr-&gt;<link linkend="_structchannel_1a5f4bd333add89c9b57f924f58b8a5a77">cut_param</link>)
835 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;0;
836 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
837 
838 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">default</emphasis>:
839 
840 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
841 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
842 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
843 
844 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;0xF:
845 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">/*</emphasis>
846 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;[15]:&#32;Set&#32;speed</emphasis>
847 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Where&#32;[15][x][y]&#32;means&#32;&quot;set&#32;speed&#32;to&#32;x*16+y&quot;.&#32;Though&#32;it&#32;is&#32;nowhere</emphasis>
848 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;near&#32;that&#32;simple.&#32;Let&#32;z&#32;=&#32;x*16+y.&#32;Depending&#32;on&#32;what&#32;values&#32;z&#32;takes,</emphasis>
849 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;different&#32;units&#32;of&#32;speed&#32;are&#32;set,&#32;there&#32;being&#32;two:&#32;ticks/division</emphasis>
850 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;and&#32;beats/minute&#32;(though&#32;this&#32;one&#32;is&#32;only&#32;a&#32;label&#32;and&#32;not&#32;strictly</emphasis>
851 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;true).&#32;If&#32;z=0,&#32;then&#32;what&#32;should&#32;technically&#32;happen&#32;is&#32;that&#32;the</emphasis>
852 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;module&#32;stops,&#32;but&#32;in&#32;practice&#32;it&#32;is&#32;treated&#32;as&#32;if&#32;z=1,&#32;because</emphasis>
853 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;there&#32;is&#32;already&#32;a&#32;method&#32;for&#32;stopping&#32;the&#32;module&#32;(running&#32;out&#32;of</emphasis>
854 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;patterns).&#32;If&#32;z&lt;=32,&#32;then&#32;it&#32;means&#32;&quot;set&#32;ticks/division&#32;to&#32;z&quot;</emphasis>
855 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;otherwise&#32;it&#32;means&#32;&quot;set&#32;beats/minute&#32;to&#32;z&quot;&#32;(convention&#32;says&#32;that</emphasis>
856 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this&#32;should&#32;read&#32;&quot;If&#32;z&lt;32..&quot;&#32;but&#32;there&#32;are&#32;some&#32;composers&#32;out&#32;there</emphasis>
857 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;that&#32;defy&#32;conventions).&#32;Default&#32;values&#32;are&#32;6&#32;ticks/division,&#32;and</emphasis>
858 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;125&#32;beats/minute&#32;(4&#32;divisions&#32;=&#32;1&#32;beat).&#32;The&#32;beats/minute&#32;tag&#32;is</emphasis>
859 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;only&#32;meaningful&#32;for&#32;6&#32;ticks/division.&#32;To&#32;get&#32;a&#32;more&#32;accurate&#32;view</emphasis>
860 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;of&#32;how&#32;things&#32;work,&#32;use&#32;the&#32;following&#32;formula:</emphasis>
861 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;24&#32;*&#32;beats/minute</emphasis>
862 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;divisions/minute&#32;=&#32;-----------------</emphasis>
863 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ticks/division</emphasis>
864 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Hence&#32;divisions/minute&#32;range&#32;from&#32;24.75&#32;to&#32;6120,&#32;eg.&#32;to&#32;get&#32;a&#32;value</emphasis>
865 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;of&#32;2000&#32;divisions/minute&#32;use&#32;3&#32;ticks/division&#32;and&#32;250&#32;beats/minute.</emphasis>
866 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;If&#32;multiple&#32;&quot;set&#32;speed&quot;&#32;effects&#32;are&#32;performed&#32;in&#32;a&#32;single&#32;division,</emphasis>
867 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;the&#32;ones&#32;on&#32;higher-numbered&#32;channels&#32;take&#32;precedence&#32;over&#32;the&#32;ones</emphasis>
868 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;on&#32;lower-numbered&#32;channels.&#32;This&#32;effect&#32;has&#32;a&#32;large&#32;number&#32;of</emphasis>
869 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;different&#32;implementations,&#32;but&#32;the&#32;one&#32;described&#32;here&#32;has&#32;the</emphasis>
870 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;widest&#32;usage.</emphasis>
871 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;*/</emphasis>
872 
873 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;(effect&amp;0xFF)&#32;&lt;&#32;0x21&#32;)
874 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
875 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;effect&amp;0xFF&#32;)
876 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
877 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;song.speed&#32;=&#32;effect&amp;0xFF;
878 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;patternticksaim&#32;=&#32;(long)<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;song.speed&#32;*&#32;((<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;playrate&#32;*&#32;5&#32;)&#32;/&#32;(((long)2&#32;*&#32;(<emphasis role="keywordtype">long</emphasis>)<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;bpm)));
879 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
880 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
881 
882 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;(effect&amp;0xFF)&#32;&gt;=&#32;0x21&#32;)
883 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
885 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;bpm&#32;=&#32;effect&amp;0xFF;
886 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;patternticksaim&#32;=&#32;(long)<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;song.speed&#32;*&#32;((<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;playrate&#32;*&#32;5&#32;)&#32;/&#32;(((long)2&#32;*&#32;(<emphasis role="keywordtype">long</emphasis>)<link linkend="_group__core__func__common_1ga12201563ef902e3b07e0d1d7656efdb1">mod</link>-&gt;bpm)));
887 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
888 
889 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
890 
891 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">default</emphasis>:
892 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Unsupported&#32;effect</emphasis>
893 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
894 
895 &#32;&#32;&#32;&#32;}
896 
897 }
898 
899 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;workeffect(&#32;<link linkend="_structnote">note</link>&#32;*&#32;nptr,&#32;<link linkend="_structchannel">channel</link>&#32;*&#32;cptr&#32;)
900 {
901 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">switch</emphasis>(cptr-&gt;<link linkend="_structchannel_1ac1f3e6a64fbc99d61e6d9ad30f100f9f">effect</link>)
902 &#32;&#32;&#32;&#32;{
903 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_ARPEGGIO:
904 
905 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1ad84b1207f533b37fbcee3517207a72d3">parameffect</link>&#32;)
906 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
907 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a09c2c524fa35b3784c61f7f7c1220ebf">decalperiod</link>&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;-&#32;cptr-&gt;<link linkend="_structchannel_1adeddc297a81015f86744ea5c710619dd">Arpperiods</link>[cptr-&gt;<link linkend="_structchannel_1aa050b07e5b4dd2445af29395f692d017">ArpIndex</link>];
908 
909 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1aa050b07e5b4dd2445af29395f692d017">ArpIndex</link>++;
910 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1aa050b07e5b4dd2445af29395f692d017">ArpIndex</link>&gt;2&#32;)
911 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1aa050b07e5b4dd2445af29395f692d017">ArpIndex</link>&#32;=&#32;0;
912 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
913 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
914 
915 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_PORTAMENTO_UP:
916 
917 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>)
918 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
919 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;-=&#32;cptr-&gt;<link linkend="_structchannel_1ad84b1207f533b37fbcee3517207a72d3">parameffect</link>;
920 
921 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;&lt;&#32;113&#32;||&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;&gt;&#32;20000&#32;)
922 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;=&#32;113;
923 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
924 
925 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
926 
927 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_PORTAMENTO_DOWN:
928 
929 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>)
930 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
931 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;+=&#32;cptr-&gt;<link linkend="_structchannel_1ad84b1207f533b37fbcee3517207a72d3">parameffect</link>;
932 
933 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;&gt;&#32;20000&#32;)
934 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;=&#32;20000;
935 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
936 
937 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
938 
939 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_VOLSLIDE_TONEPORTA:
940 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_TONE_PORTAMENTO:
941 
942 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;&amp;&amp;&#32;(&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;!=&#32;cptr-&gt;<link linkend="_structchannel_1ab44b39df2cf3f930f20209eac540a943">portaperiod</link>&#32;)&#32;&amp;&amp;&#32;cptr-&gt;<link linkend="_structchannel_1ab44b39df2cf3f930f20209eac540a943">portaperiod</link>&#32;)
943 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
944 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;&gt;&#32;cptr-&gt;<link linkend="_structchannel_1ab44b39df2cf3f930f20209eac540a943">portaperiod</link>&#32;)
945 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
946 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;-&#32;cptr-&gt;<link linkend="_structchannel_1ab44b39df2cf3f930f20209eac540a943">portaperiod</link>&#32;&gt;=&#32;cptr-&gt;<link linkend="_structchannel_1a7052c0c2f4b3bebcb65bf9b5a9b01649">portaspeed</link>&#32;)
947 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
948 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;-=&#32;cptr-&gt;<link linkend="_structchannel_1a7052c0c2f4b3bebcb65bf9b5a9b01649">portaspeed</link>;
949 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
950 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
951 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
952 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1ab44b39df2cf3f930f20209eac540a943">portaperiod</link>;
953 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
954 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
955 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
956 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
957 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1ab44b39df2cf3f930f20209eac540a943">portaperiod</link>&#32;-&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;&gt;=&#32;cptr-&gt;<link linkend="_structchannel_1a7052c0c2f4b3bebcb65bf9b5a9b01649">portaspeed</link>&#32;)
958 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
959 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;+=&#32;cptr-&gt;<link linkend="_structchannel_1a7052c0c2f4b3bebcb65bf9b5a9b01649">portaspeed</link>;
960 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
961 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
962 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
963 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1ab44b39df2cf3f930f20209eac540a943">portaperiod</link>;
964 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
965 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
966 
967 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;==&#32;cptr-&gt;<link linkend="_structchannel_1ab44b39df2cf3f930f20209eac540a943">portaperiod</link>&#32;)
968 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
969 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;If&#32;the&#32;slide&#32;is&#32;over,&#32;don&apos;t&#32;let&#32;it&#32;to&#32;be&#32;retriggered.</emphasis>
970 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1ab44b39df2cf3f930f20209eac540a943">portaperiod</link>&#32;=&#32;0;
971 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
972 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
973 
974 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1ac1f3e6a64fbc99d61e6d9ad30f100f9f">effect</link>&#32;==&#32;EFFECT_VOLSLIDE_TONEPORTA&#32;)
975 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
976 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1abe470652e5c99ea35e90534dfe9baa16">volumeslide</link>&#32;&gt;&#32;0x0F&#32;)
977 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
978 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;+&#32;(cptr-&gt;<link linkend="_structchannel_1abe470652e5c99ea35e90534dfe9baa16">volumeslide</link>&gt;&gt;4);
979 
980 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&gt;63)
981 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;63;
982 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
983 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
984 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
985 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;-&#32;(cptr-&gt;<link linkend="_structchannel_1abe470652e5c99ea35e90534dfe9baa16">volumeslide</link>);
986 
987 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&gt;63)
988 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>=0;
989 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
990 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
991 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
992 
993 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_VOLSLIDE_VIBRATO:
994 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_VIBRATO:
995 
996 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1aed5d30d22906d5a1840cf3489f9dd6ea">vibraperiod</link>&#32;=&#32;(&#32;(cptr-&gt;<link linkend="_structchannel_1aaf186bc2f2a6c9f2705ca57e286c675d">vibraparam</link>&amp;0xF)&#32;*&#32;sintable[cptr-&gt;<link linkend="_structchannel_1a57fc68673436db50277b98229dacdaf1">vibrapointeur</link>&amp;0x1F]&#32;)&gt;&gt;7;
997 
998 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a57fc68673436db50277b98229dacdaf1">vibrapointeur</link>&#32;&gt;&#32;31&#32;)
999 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1aed5d30d22906d5a1840cf3489f9dd6ea">vibraperiod</link>&#32;=&#32;-cptr-&gt;<link linkend="_structchannel_1aed5d30d22906d5a1840cf3489f9dd6ea">vibraperiod</link>;
1000 
1001 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a57fc68673436db50277b98229dacdaf1">vibrapointeur</link>&#32;=&#32;(cptr-&gt;<link linkend="_structchannel_1a57fc68673436db50277b98229dacdaf1">vibrapointeur</link>+(((cptr-&gt;<link linkend="_structchannel_1aaf186bc2f2a6c9f2705ca57e286c675d">vibraparam</link>&gt;&gt;4))&amp;0xf))&#32;&amp;&#32;0x3F;
1002 
1003 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1ac1f3e6a64fbc99d61e6d9ad30f100f9f">effect</link>&#32;==&#32;EFFECT_VOLSLIDE_VIBRATO&#32;)
1004 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1005 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1abe470652e5c99ea35e90534dfe9baa16">volumeslide</link>&#32;&gt;&#32;0xF&#32;)
1006 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1007 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>+(cptr-&gt;<link linkend="_structchannel_1abe470652e5c99ea35e90534dfe9baa16">volumeslide</link>&gt;&gt;4);
1008 
1009 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;&gt;&#32;64&#32;)
1010 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;64;
1011 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1012 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
1013 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1014 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;-&#32;cptr-&gt;<link linkend="_structchannel_1abe470652e5c99ea35e90534dfe9baa16">volumeslide</link>;
1015 
1016 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;&gt;&#32;64&#32;)
1017 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;0;
1018 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1019 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1020 
1021 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
1022 
1023 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_VOLUME_SLIDE:
1024 
1025 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1abe470652e5c99ea35e90534dfe9baa16">volumeslide</link>&#32;&gt;&#32;0xF&#32;)
1026 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1027 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;+=&#32;(cptr-&gt;<link linkend="_structchannel_1abe470652e5c99ea35e90534dfe9baa16">volumeslide</link>&gt;&gt;4);
1028 
1029 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;&gt;&#32;64&#32;)
1030 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;64;
1031 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1032 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
1033 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1034 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;-=&#32;(cptr-&gt;<link linkend="_structchannel_1abe470652e5c99ea35e90534dfe9baa16">volumeslide</link>&amp;0xf);
1035 
1036 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;&gt;&#32;64&#32;)
1037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;0;
1038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1039 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
1040 
1041 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">case</emphasis>&#32;EFFECT_E_NOTE_CUT:
1042 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(cptr-&gt;<link linkend="_structchannel_1a5f4bd333add89c9b57f924f58b8a5a77">cut_param</link>)
1043 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a5f4bd333add89c9b57f924f58b8a5a77">cut_param</link>--;
1044 
1045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!cptr-&gt;<link linkend="_structchannel_1a5f4bd333add89c9b57f924f58b8a5a77">cut_param</link>)
1046 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;0;
1047 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
1048 
1049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">default</emphasis>:
1050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">break</emphasis>;
1051 
1052 &#32;&#32;&#32;&#32;}
1053 
1054 }
1055 
1057 <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac8ea6269835488646d99516fd173b4b6">jar_mod_init</link>(<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;modctx)
1058 {
1059 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;i,j;
1060 
1061 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;modctx&#32;)
1062 &#32;&#32;&#32;&#32;{
1063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memclear(modctx,&#32;0,&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>));
1064 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a5ff0e372e6641da89efcf4d6561a02f1">playrate</link>&#32;=&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1abe9b1c28165a7071e354bd9d7823ca1a">DEFAULT_SAMPLE_RATE</link>;
1065 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1aaf6e27f0bc4ddf20cb5f91b799f7f6ff">stereo</link>&#32;=&#32;1;
1066 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1aecd14876760e59571b2fce3b84d05e1b">stereo_separation</link>&#32;=&#32;1;
1067 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a364226086634575f8dd6803994b9062b">bits</link>&#32;=&#32;16;
1068 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a906161b868534c6f9c23d3e08631e1f6">filter</link>&#32;=&#32;1;
1069 
1070 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(i=0;&#32;i&#32;&lt;&#32;PERIOD_TABLE_LENGTH&#32;-&#32;1;&#32;i++)
1071 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1072 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(j=0;&#32;j&#32;&lt;&#32;8;&#32;j++)
1073 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1074 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1acd18f419df737da2c4ec4480639a827c">fullperiod</link>[(i*8)&#32;+&#32;j]&#32;=&#32;periodtable[i]&#32;-&#32;(((&#32;periodtable[i]&#32;-&#32;periodtable[i+1]&#32;)&#32;/&#32;8)&#32;*&#32;j);
1075 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1076 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1077 
1078 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;1;
1079 &#32;&#32;&#32;&#32;}
1080 
1081 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;0;
1082 }
1083 
1084 <emphasis role="keywordtype">bool</emphasis>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1aa26fc11908f56ac9c4c5457516d95749">jar_mod_setcfg</link>(<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;modctx,&#32;<emphasis role="keywordtype">int</emphasis>&#32;samplerate,&#32;<emphasis role="keywordtype">int</emphasis>&#32;bits,&#32;<emphasis role="keywordtype">int</emphasis>&#32;stereo,&#32;<emphasis role="keywordtype">int</emphasis>&#32;stereo_separation,&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1a8bed50656d87c3eeed9d8f5e539c6b3e">filter</link>)
1085 {
1086 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;modctx&#32;)
1087 &#32;&#32;&#32;&#32;{
1088 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a5ff0e372e6641da89efcf4d6561a02f1">playrate</link>&#32;=&#32;samplerate;
1089 
1090 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;stereo&#32;)
1091 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1aaf6e27f0bc4ddf20cb5f91b799f7f6ff">stereo</link>&#32;=&#32;1;
1092 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
1093 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1aaf6e27f0bc4ddf20cb5f91b799f7f6ff">stereo</link>&#32;=&#32;0;
1094 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
1095 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(stereo_separation&#32;&lt;&#32;4)
1096 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1097 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1aecd14876760e59571b2fce3b84d05e1b">stereo_separation</link>&#32;=&#32;stereo_separation;
1098 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1099 
1100 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;bits&#32;==&#32;8&#32;||&#32;bits&#32;==&#32;16&#32;)
1101 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a364226086634575f8dd6803994b9062b">bits</link>&#32;=&#32;bits;
1102 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
1103 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a364226086634575f8dd6803994b9062b">bits</link>&#32;=&#32;16;
1104 
1105 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_g_l_e_s2_2gl2ext_8h_1a8bed50656d87c3eeed9d8f5e539c6b3e">filter</link>&#32;)
1106 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a906161b868534c6f9c23d3e08631e1f6">filter</link>&#32;=&#32;1;
1107 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
1108 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a906161b868534c6f9c23d3e08631e1f6">filter</link>&#32;=&#32;0;
1109 
1110 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;1;
1111 &#32;&#32;&#32;&#32;}
1112 
1113 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;0;
1114 }
1115 
1116 <emphasis role="comment">//&#32;make&#32;certain&#32;that&#32;mod_data&#32;stays&#32;in&#32;memory&#32;while&#32;playing</emphasis>
1117 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;jar_mod_load(&#32;<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;modctx,&#32;<emphasis role="keywordtype">void</emphasis>&#32;*&#32;mod_data,&#32;<emphasis role="keywordtype">int</emphasis>&#32;mod_data_size&#32;)
1118 {
1119 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;i,&#32;<link linkend="_group__core__func__common_1gae02d42887fc5570451f880e3c624b9ac">max</link>;
1120 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">short</emphasis>&#32;t;
1121 &#32;&#32;&#32;&#32;<link linkend="_structsample">sample</link>&#32;*sptr;
1122 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;*&#32;modmemory,*&#32;endmodmemory;
1123 
1124 &#32;&#32;&#32;&#32;modmemory&#32;=&#32;(<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;*)mod_data;
1125 &#32;&#32;&#32;&#32;endmodmemory&#32;=&#32;modmemory&#32;+&#32;mod_data_size;
1126 &#32;&#32;&#32;&#32;
1127 &#32;&#32;&#32;&#32;
1128 
1129 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(modmemory)
1130 &#32;&#32;&#32;&#32;{
1131 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;modctx&#32;)
1132 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1133 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memcopy(&amp;(modctx-&gt;song.title),modmemory,1084);
1134 
1135 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i&#32;=&#32;0;
1136 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a594cc2c393955234442553c466ace990">number_of_channels</link>&#32;=&#32;0;
1137 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">while</emphasis>(modlist[i].numberofchannels)
1138 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1139 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(memcompare(modctx-&gt;song.signature,modlist[i].signature,4))
1140 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1141 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a594cc2c393955234442553c466ace990">number_of_channels</link>&#32;=&#32;modlist[i].numberofchannels;
1142 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1143 
1144 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;i++;
1145 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1146 
1147 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;!modctx-&gt;<link linkend="_structjar__mod__context__t_1a594cc2c393955234442553c466ace990">number_of_channels</link>&#32;)
1148 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1149 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;15&#32;Samples&#32;modules&#32;support</emphasis>
1150 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Shift&#32;the&#32;whole&#32;datas&#32;to&#32;make&#32;it&#32;look&#32;likes&#32;a&#32;standard&#32;4&#32;channels&#32;mod.</emphasis>
1151 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memcopy(&amp;(modctx-&gt;song.signature),&#32;<emphasis role="stringliteral">&quot;M.K.&quot;</emphasis>,&#32;4);
1152 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memcopy(&amp;(modctx-&gt;song.length),&#32;&amp;(modctx-&gt;song.samples[15]),&#32;130);
1153 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memclear(&amp;(modctx-&gt;song.samples[15]),&#32;0,&#32;480);
1154 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modmemory&#32;+=&#32;600;
1155 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a594cc2c393955234442553c466ace990">number_of_channels</link>&#32;=&#32;4;
1156 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1157 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
1158 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1159 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modmemory&#32;+=&#32;1084;
1160 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1161 
1162 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;modmemory&#32;&gt;=&#32;endmodmemory&#32;)
1163 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;0;&#32;<emphasis role="comment">//&#32;End&#32;passed&#32;?&#32;-&#32;Probably&#32;a&#32;bad&#32;file&#32;!</emphasis>
1164 
1165 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Patterns&#32;loading</emphasis>
1166 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(i&#32;=&#32;max&#32;=&#32;0;&#32;i&#32;&lt;&#32;128;&#32;i++)
1167 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1168 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">while</emphasis>&#32;(max&#32;&lt;=&#32;modctx-&gt;song.patterntable[i])
1169 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1170 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a3999798bc34c0e7f89f7ac9c66a3820e">patterndata</link>[<link linkend="_group__core__func__common_1gae02d42887fc5570451f880e3c624b9ac">max</link>]&#32;=&#32;(<link linkend="_structnote">note</link>*)modmemory;
1171 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modmemory&#32;+=&#32;(256*modctx-&gt;<link linkend="_structjar__mod__context__t_1a594cc2c393955234442553c466ace990">number_of_channels</link>);
1172 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_group__core__func__common_1gae02d42887fc5570451f880e3c624b9ac">max</link>++;
1173 
1174 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;modmemory&#32;&gt;=&#32;endmodmemory&#32;)
1175 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;0;&#32;<emphasis role="comment">//&#32;End&#32;passed&#32;?&#32;-&#32;Probably&#32;a&#32;bad&#32;file&#32;!</emphasis>
1176 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1177 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1178 
1179 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(i&#32;=&#32;0;&#32;i&#32;&lt;&#32;31;&#32;i++)
1180 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a8e9f4c9c8e389639b9c4f00182405a6c">sampledata</link>[i]=0;
1181 
1182 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Samples&#32;loading</emphasis>
1183 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(i&#32;=&#32;0,&#32;sptr&#32;=&#32;modctx-&gt;song.samples;&#32;i&#32;&lt;31;&#32;i++,&#32;sptr++)
1184 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1185 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;t=&#32;(sptr-&gt;<link linkend="_structsample_1a6a99963bbdeb5316c16c39d50834b185">length</link>&#32;&amp;0xFF00)&gt;&gt;8&#32;|&#32;(sptr-&gt;<link linkend="_structsample_1a6a99963bbdeb5316c16c39d50834b185">length</link>&#32;&amp;0xFF)&lt;&lt;8;
1186 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sptr-&gt;<link linkend="_structsample_1a6a99963bbdeb5316c16c39d50834b185">length</link>&#32;=&#32;t*2;
1187 
1188 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;t=&#32;(sptr-&gt;<link linkend="_structsample_1a609dd682da0dfe9593781526ac8b87df">reppnt</link>&#32;&amp;0xFF00)&gt;&gt;8&#32;|&#32;(sptr-&gt;<link linkend="_structsample_1a609dd682da0dfe9593781526ac8b87df">reppnt</link>&#32;&amp;0xFF)&lt;&lt;8;
1189 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sptr-&gt;<link linkend="_structsample_1a609dd682da0dfe9593781526ac8b87df">reppnt</link>&#32;=&#32;t*2;
1190 
1191 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;t=&#32;(sptr-&gt;<link linkend="_structsample_1a6eba7352cc9dccee878707e61b201a3a">replen</link>&#32;&amp;0xFF00)&gt;&gt;8&#32;|&#32;(sptr-&gt;<link linkend="_structsample_1a6eba7352cc9dccee878707e61b201a3a">replen</link>&#32;&amp;0xFF)&lt;&lt;8;
1192 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sptr-&gt;<link linkend="_structsample_1a6eba7352cc9dccee878707e61b201a3a">replen</link>&#32;=&#32;t*2;
1193 
1194 
1195 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(sptr-&gt;<link linkend="_structsample_1a6a99963bbdeb5316c16c39d50834b185">length</link>&#32;==&#32;0)&#32;<emphasis role="keywordflow">continue</emphasis>;
1196 
1197 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a8e9f4c9c8e389639b9c4f00182405a6c">sampledata</link>[i]&#32;=&#32;(<emphasis role="keywordtype">char</emphasis>*)modmemory;
1198 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modmemory&#32;+=&#32;sptr-&gt;<link linkend="_structsample_1a6a99963bbdeb5316c16c39d50834b185">length</link>;
1199 
1200 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(sptr-&gt;<link linkend="_structsample_1a6eba7352cc9dccee878707e61b201a3a">replen</link>&#32;+&#32;sptr-&gt;<link linkend="_structsample_1a609dd682da0dfe9593781526ac8b87df">reppnt</link>&#32;&gt;&#32;sptr-&gt;<link linkend="_structsample_1a6a99963bbdeb5316c16c39d50834b185">length</link>)
1201 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sptr-&gt;<link linkend="_structsample_1a6eba7352cc9dccee878707e61b201a3a">replen</link>&#32;=&#32;sptr-&gt;<link linkend="_structsample_1a6a99963bbdeb5316c16c39d50834b185">length</link>&#32;-&#32;sptr-&gt;<link linkend="_structsample_1a609dd682da0dfe9593781526ac8b87df">reppnt</link>;
1202 
1203 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;modmemory&#32;&gt;&#32;endmodmemory&#32;)
1204 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;0;&#32;<emphasis role="comment">//&#32;End&#32;passed&#32;?&#32;-&#32;Probably&#32;a&#32;bad&#32;file&#32;!</emphasis>
1205 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1206 
1207 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;States&#32;init</emphasis>
1208 
1209 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a4890ac6f9ac93f5d16d5c3b6e5cb7a42">tablepos</link>&#32;=&#32;0;
1210 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1abe412a34afa54b1cc7703bbddc14e3d9">patternpos</link>&#32;=&#32;0;
1211 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;song.speed&#32;=&#32;6;
1212 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a0f6a106a1c4fde4bedaea41da878b525">bpm</link>&#32;=&#32;125;
1213 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a14abe8941974353082a131b456662055">samplenb</link>&#32;=&#32;0;
1214 
1215 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1ab480faa910fa107b75297e5eabc1d274">patternticks</link>&#32;=&#32;(((long)modctx-&gt;song.speed&#32;*&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a5ff0e372e6641da89efcf4d6561a02f1">playrate</link>&#32;*&#32;5)/&#32;(2&#32;*&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a0f6a106a1c4fde4bedaea41da878b525">bpm</link>))&#32;+&#32;1;
1216 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1ae8a10199aa4650a683fad5c43a347e3f">patternticksaim</link>&#32;=&#32;((long)modctx-&gt;song.speed&#32;*&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a5ff0e372e6641da89efcf4d6561a02f1">playrate</link>&#32;*&#32;5)&#32;/&#32;(2&#32;*&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a0f6a106a1c4fde4bedaea41da878b525">bpm</link>);
1217 
1218 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a597a1165c2fe78dd7942f8f95c2d4913">sampleticksconst</link>&#32;=&#32;3546894UL&#32;/&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a5ff0e372e6641da89efcf4d6561a02f1">playrate</link>;&#32;<emphasis role="comment">//8448*428/playrate;</emphasis>
1219 
1220 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(i=0;&#32;i&#32;&lt;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a594cc2c393955234442553c466ace990">number_of_channels</link>;&#32;i++)
1221 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1222 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1ae978fdd85a2edc612e9d2c97dfb188fb">channels</link>[i].<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;=&#32;0;
1223 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1ae978fdd85a2edc612e9d2c97dfb188fb">channels</link>[i].<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;=&#32;0;
1224 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1225 
1226 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1ab51d497d65ed8b8e952f049b3b2dd70e">mod_loaded</link>&#32;=&#32;1;
1227 
1228 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;1;
1229 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1230 &#32;&#32;&#32;&#32;}
1231 
1232 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;0;
1233 }
1234 
1235 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1aaae0576db604b379a412b7db94aaa8c1">jar_mod_fillbuffer</link>(&#32;<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;modctx,&#32;<emphasis role="keywordtype">short</emphasis>&#32;*&#32;outbuffer,&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>&#32;nbsample,&#32;<link linkend="_structjar__mod__tracker__buffer__state__">jar_mod_tracker_buffer_state</link>&#32;*&#32;trkbuf&#32;)
1236 {
1237 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>&#32;i,&#32;j;
1238 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>&#32;k;
1239 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>&#32;c;
1240 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">int</emphasis>&#32;state_remaining_steps;
1241 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;l,<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>;
1242 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;ll,lr;
1243 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;tl,tr;
1244 &#32;&#32;&#32;&#32;<emphasis role="keywordtype">short</emphasis>&#32;finalperiod;
1245 &#32;&#32;&#32;&#32;<link linkend="_structnote">note</link>&#32;&#32;&#32;&#32;*nptr;
1246 &#32;&#32;&#32;&#32;<link linkend="_structchannel">channel</link>&#32;*cptr;
1247 
1248 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;modctx&#32;&amp;&amp;&#32;outbuffer&#32;)
1249 &#32;&#32;&#32;&#32;{
1250 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(modctx-&gt;<link linkend="_structjar__mod__context__t_1ab51d497d65ed8b8e952f049b3b2dd70e">mod_loaded</link>)
1251 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1252 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;state_remaining_steps&#32;=&#32;0;
1253 
1254 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;trkbuf&#32;)
1255 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1256 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a41b65b27e55768e6d8068b187a885f88">cur_rd_index</link>&#32;=&#32;0;
1257 
1258 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memcopy(trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1ad0d4e38e2793dd239ce4cd0dbfc144cc">name</link>,modctx-&gt;song.title,<emphasis role="keyword">sizeof</emphasis>(modctx-&gt;song.title));
1259 
1260 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(i=0;i&lt;31;i++)
1261 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1262 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memcopy(trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a9c7f34c01236f72cf2cb3665b0a5494f">instruments</link>[i].name,modctx-&gt;song.samples[i].name,<emphasis role="keyword">sizeof</emphasis>(trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a9c7f34c01236f72cf2cb3665b0a5494f">instruments</link>[i].name));
1263 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1264 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1265 
1266 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ll&#32;=&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a183c5d4110e9473efc87602b4e9ef2eb">last_l_sample</link>;
1267 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lr&#32;=&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a81a4ebc2f004007990cd4bd8ce39866f">last_r_sample</link>;
1268 
1269 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(i&#32;=&#32;0;&#32;i&#32;&lt;&#32;nbsample;&#32;i++)
1270 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1271 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//---------------------------------------</emphasis>
1272 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1ab480faa910fa107b75297e5eabc1d274">patternticks</link>++&#32;&gt;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1ae8a10199aa4650a683fad5c43a347e3f">patternticksaim</link>&#32;)
1273 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1274 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;!modctx-&gt;<link linkend="_structjar__mod__context__t_1aabbae2746317ac863dde4b859b5996ad">patterndelay</link>&#32;)
1275 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1276 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nptr&#32;=&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a3999798bc34c0e7f89f7ac9c66a3820e">patterndata</link>[modctx-&gt;song.patterntable[modctx-&gt;<link linkend="_structjar__mod__context__t_1a4890ac6f9ac93f5d16d5c3b6e5cb7a42">tablepos</link>]];
1277 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nptr&#32;=&#32;nptr&#32;+&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1abe412a34afa54b1cc7703bbddc14e3d9">patternpos</link>;
1278 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr&#32;=&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1ae978fdd85a2edc612e9d2c97dfb188fb">channels</link>;
1279 
1280 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1ab480faa910fa107b75297e5eabc1d274">patternticks</link>&#32;=&#32;0;
1281 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a29e45b2c846337977a5f17934eb71ebe">patterntickse</link>&#32;=&#32;0;
1282 
1283 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(c=0;c&lt;modctx-&gt;<link linkend="_structjar__mod__context__t_1a594cc2c393955234442553c466ace990">number_of_channels</link>;c++)
1284 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1285 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;worknote((<link linkend="_structnote">note</link>*)(nptr+c),&#32;(<link linkend="_structchannel">channel</link>*)(cptr+c),(<emphasis role="keywordtype">char</emphasis>)(c+1),modctx);
1286 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1287 
1288 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;!modctx-&gt;<link linkend="_structjar__mod__context__t_1adaa3681b591e75b58f2b36954a5e60b3">jump_loop_effect</link>&#32;)
1289 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1abe412a34afa54b1cc7703bbddc14e3d9">patternpos</link>&#32;+=&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a594cc2c393955234442553c466ace990">number_of_channels</link>;
1290 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
1291 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1adaa3681b591e75b58f2b36954a5e60b3">jump_loop_effect</link>&#32;=&#32;0;
1292 
1293 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1abe412a34afa54b1cc7703bbddc14e3d9">patternpos</link>&#32;==&#32;64*modctx-&gt;<link linkend="_structjar__mod__context__t_1a594cc2c393955234442553c466ace990">number_of_channels</link>&#32;)
1294 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1295 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a4890ac6f9ac93f5d16d5c3b6e5cb7a42">tablepos</link>++;
1296 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1abe412a34afa54b1cc7703bbddc14e3d9">patternpos</link>&#32;=&#32;0;
1297 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(modctx-&gt;<link linkend="_structjar__mod__context__t_1a4890ac6f9ac93f5d16d5c3b6e5cb7a42">tablepos</link>&#32;&gt;=&#32;modctx-&gt;song.length)
1298 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1299 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a4890ac6f9ac93f5d16d5c3b6e5cb7a42">tablepos</link>&#32;=&#32;0;
1300 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a76977ab320c3443cfcdc5f61d4032004">loopcount</link>++;&#32;<emphasis role="comment">//&#32;count&#32;next&#32;loop</emphasis>
1301 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1302 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1303 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1304 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
1305 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1306 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1aabbae2746317ac863dde4b859b5996ad">patterndelay</link>--;
1307 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1ab480faa910fa107b75297e5eabc1d274">patternticks</link>&#32;=&#32;0;
1308 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a29e45b2c846337977a5f17934eb71ebe">patterntickse</link>&#32;=&#32;0;
1309 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1310 
1311 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1312 
1313 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a29e45b2c846337977a5f17934eb71ebe">patterntickse</link>++&#32;&gt;&#32;(modctx-&gt;<link linkend="_structjar__mod__context__t_1ae8a10199aa4650a683fad5c43a347e3f">patternticksaim</link>/modctx-&gt;song.speed)&#32;)
1314 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1315 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nptr&#32;=&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a3999798bc34c0e7f89f7ac9c66a3820e">patterndata</link>[modctx-&gt;song.patterntable[modctx-&gt;<link linkend="_structjar__mod__context__t_1a4890ac6f9ac93f5d16d5c3b6e5cb7a42">tablepos</link>]];
1316 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;nptr&#32;=&#32;nptr&#32;+&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1abe412a34afa54b1cc7703bbddc14e3d9">patternpos</link>;
1317 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr&#32;=&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1ae978fdd85a2edc612e9d2c97dfb188fb">channels</link>;
1318 
1319 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(c=0;c&lt;modctx-&gt;<link linkend="_structjar__mod__context__t_1a594cc2c393955234442553c466ace990">number_of_channels</link>;c++)
1320 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1321 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;workeffect(nptr+c,&#32;cptr+c);
1322 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1323 
1324 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a29e45b2c846337977a5f17934eb71ebe">patterntickse</link>&#32;=&#32;0;
1325 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1326 
1327 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//---------------------------------------</emphasis>
1328 
1329 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;trkbuf&#32;&amp;&amp;&#32;!state_remaining_steps&#32;)
1330 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1331 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>&#32;&lt;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1ac0b468b57412769d2f710eeb0d7e2642">nb_max_of_state</link>&#32;)
1332 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1333 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memclear(&amp;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1aa3129a41b161a4945fa98effcce0eb5c">track_state_buf</link>[trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>],&#32;0,&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_structtracker__state__">tracker_state</link>));
1334 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1335 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1336 
1337 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;l=0;
1338 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>=0;
1339 
1340 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>(j&#32;=0,&#32;cptr&#32;=&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1ae978fdd85a2edc612e9d2c97dfb188fb">channels</link>;&#32;j&#32;&lt;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a594cc2c393955234442553c466ace990">number_of_channels</link>&#32;;&#32;j++,&#32;cptr++)
1341 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1342 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;!=&#32;0&#32;)
1343 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1344 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;finalperiod&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1a9150dd0f6966d77f5ad421d3f6806e0f">period</link>&#32;-&#32;cptr-&gt;<link linkend="_structchannel_1a09c2c524fa35b3784c61f7f7c1220ebf">decalperiod</link>&#32;-&#32;cptr-&gt;<link linkend="_structchannel_1aed5d30d22906d5a1840cf3489f9dd6ea">vibraperiod</link>;
1345 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;finalperiod&#32;)
1346 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1347 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a6bd341bc9e3369143982e8ecdcea8a8c">samppos</link>&#32;+=&#32;(&#32;(modctx-&gt;<link linkend="_structjar__mod__context__t_1a597a1165c2fe78dd7942f8f95c2d4913">sampleticksconst</link>&lt;&lt;10)&#32;/&#32;finalperiod&#32;);
1348 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1349 
1350 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a129f37c1b2a8caf9a624b1c1a48aafc7">ticks</link>++;
1351 
1352 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a68ecfbf39be343ea9f1c716ce3dfc6f2">replen</link>&lt;=2&#32;)
1353 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1354 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;(cptr-&gt;<link linkend="_structchannel_1a6bd341bc9e3369143982e8ecdcea8a8c">samppos</link>&gt;&gt;10)&#32;&gt;=&#32;(cptr-&gt;<link linkend="_structchannel_1a848a5451b830aa05716cadf034947d08">length</link>)&#32;)
1355 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1356 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a848a5451b830aa05716cadf034947d08">length</link>&#32;=&#32;0;
1357 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a0ddbd4d1c0e69397cc192344491f5284">reppnt</link>&#32;=&#32;0;
1358 
1359 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a848a5451b830aa05716cadf034947d08">length</link>&#32;)
1360 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a6bd341bc9e3369143982e8ecdcea8a8c">samppos</link>&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1a6bd341bc9e3369143982e8ecdcea8a8c">samppos</link>&#32;%&#32;(((<emphasis role="keywordtype">unsigned</emphasis>&#32;long)cptr-&gt;<link linkend="_structchannel_1a848a5451b830aa05716cadf034947d08">length</link>)&lt;&lt;10);
1361 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
1362 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a6bd341bc9e3369143982e8ecdcea8a8c">samppos</link>&#32;=&#32;0;
1363 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1364 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1365 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
1366 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1367 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;(cptr-&gt;<link linkend="_structchannel_1a6bd341bc9e3369143982e8ecdcea8a8c">samppos</link>&gt;&gt;10)&#32;&gt;=&#32;(<emphasis role="keywordtype">unsigned</emphasis>&#32;long)(cptr-&gt;<link linkend="_structchannel_1a68ecfbf39be343ea9f1c716ce3dfc6f2">replen</link>+cptr-&gt;<link linkend="_structchannel_1a0ddbd4d1c0e69397cc192344491f5284">reppnt</link>)&#32;)
1368 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1369 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a6bd341bc9e3369143982e8ecdcea8a8c">samppos</link>&#32;=&#32;((<emphasis role="keywordtype">unsigned</emphasis>&#32;long)(cptr-&gt;<link linkend="_structchannel_1a0ddbd4d1c0e69397cc192344491f5284">reppnt</link>)&lt;&lt;10)&#32;+&#32;(cptr-&gt;<link linkend="_structchannel_1a6bd341bc9e3369143982e8ecdcea8a8c">samppos</link>&#32;%&#32;((<emphasis role="keywordtype">unsigned</emphasis>&#32;<emphasis role="keywordtype">long</emphasis>)(cptr-&gt;<link linkend="_structchannel_1a68ecfbf39be343ea9f1c716ce3dfc6f2">replen</link>+cptr-&gt;<link linkend="_structchannel_1a0ddbd4d1c0e69397cc192344491f5284">reppnt</link>)&lt;&lt;10));
1370 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1371 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1372 
1373 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;k&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1a6bd341bc9e3369143982e8ecdcea8a8c">samppos</link>&#32;&gt;&gt;&#32;10;
1374 
1375 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a37c8ea1afdf130df796e39441c000d94">sampdata</link>!=0&#32;&amp;&amp;&#32;(&#32;((j&amp;3)==1)&#32;||&#32;((j&amp;3)==2)&#32;)&#32;)
1376 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1377 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>&#32;+=&#32;(&#32;cptr-&gt;<link linkend="_structchannel_1a37c8ea1afdf130df796e39441c000d94">sampdata</link>[k]&#32;*&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;);
1378 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1379 
1380 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;cptr-&gt;<link linkend="_structchannel_1a37c8ea1afdf130df796e39441c000d94">sampdata</link>!=0&#32;&amp;&amp;&#32;(&#32;((j&amp;3)==0)&#32;||&#32;((j&amp;3)==3)&#32;)&#32;)
1381 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1382 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;l&#32;+=&#32;(&#32;cptr-&gt;<link linkend="_structchannel_1a37c8ea1afdf130df796e39441c000d94">sampdata</link>[k]&#32;*&#32;&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>&#32;);
1383 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1384 
1385 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;trkbuf&#32;&amp;&amp;&#32;!state_remaining_steps&#32;)
1386 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1387 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>&#32;&lt;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1ac0b468b57412769d2f710eeb0d7e2642">nb_max_of_state</link>&#32;)
1388 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1389 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1aa3129a41b161a4945fa98effcce0eb5c">track_state_buf</link>[trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>].<link linkend="_structtracker__state___1aa5ff7d1b86b7bf3ff9455c506f5aa380">number_of_tracks</link>&#32;=&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a594cc2c393955234442553c466ace990">number_of_channels</link>;
1390 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1aa3129a41b161a4945fa98effcce0eb5c">track_state_buf</link>[trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>].<link linkend="_structtracker__state___1a8262697f4fff2c64edf1d26f7bbff9a3">buf_index</link>&#32;=&#32;i;
1391 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1aa3129a41b161a4945fa98effcce0eb5c">track_state_buf</link>[trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>].<link linkend="_structtracker__state___1a249caefc046982542c134a4b24ef6adf">cur_pattern</link>&#32;=&#32;modctx-&gt;song.patterntable[modctx-&gt;<link linkend="_structjar__mod__context__t_1a4890ac6f9ac93f5d16d5c3b6e5cb7a42">tablepos</link>];
1392 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1aa3129a41b161a4945fa98effcce0eb5c">track_state_buf</link>[trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>].<link linkend="_structtracker__state___1a58924103f216d431040531aa5d99639c">cur_pattern_pos</link>&#32;=&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1abe412a34afa54b1cc7703bbddc14e3d9">patternpos</link>&#32;/&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a594cc2c393955234442553c466ace990">number_of_channels</link>;
1393 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1aa3129a41b161a4945fa98effcce0eb5c">track_state_buf</link>[trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>].<link linkend="_structtracker__state___1afec748ebe2eadfce2846a54afa5e5d6d">cur_pattern_table_pos</link>&#32;=&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a4890ac6f9ac93f5d16d5c3b6e5cb7a42">tablepos</link>;
1394 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1aa3129a41b161a4945fa98effcce0eb5c">track_state_buf</link>[trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>].<link linkend="_structtracker__state___1a131018428803d5b4747062cfdb724a5f">bpm</link>&#32;=&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a0f6a106a1c4fde4bedaea41da878b525">bpm</link>;
1395 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1aa3129a41b161a4945fa98effcce0eb5c">track_state_buf</link>[trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>].<link linkend="_structtracker__state___1a0572b649f44765987064ec09a6c1e099">speed</link>&#32;=&#32;modctx-&gt;song.speed;
1396 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1aa3129a41b161a4945fa98effcce0eb5c">track_state_buf</link>[trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>].<link linkend="_structtracker__state___1a080a99a2f8c741de44029f11abdc95d2">tracks</link>[j].cur_effect&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1a5d7384f9280a5b7ca2ed6d1f8b26d87d">effect_code</link>;
1397 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1aa3129a41b161a4945fa98effcce0eb5c">track_state_buf</link>[trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>].<link linkend="_structtracker__state___1a080a99a2f8c741de44029f11abdc95d2">tracks</link>[j].cur_parameffect&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1ad84b1207f533b37fbcee3517207a72d3">parameffect</link>;
1398 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1aa3129a41b161a4945fa98effcce0eb5c">track_state_buf</link>[trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>].<link linkend="_structtracker__state___1a080a99a2f8c741de44029f11abdc95d2">tracks</link>[j].cur_period&#32;=&#32;finalperiod;
1399 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1aa3129a41b161a4945fa98effcce0eb5c">track_state_buf</link>[trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>].<link linkend="_structtracker__state___1a080a99a2f8c741de44029f11abdc95d2">tracks</link>[j].cur_volume&#32;=&#32;cptr-&gt;<link linkend="_structchannel_1a9f8947c264490013bc15e518b878292b">volume</link>;
1400 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1aa3129a41b161a4945fa98effcce0eb5c">track_state_buf</link>[trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>].<link linkend="_structtracker__state___1a080a99a2f8c741de44029f11abdc95d2">tracks</link>[j].instrument_number&#32;=&#32;(<emphasis role="keywordtype">unsigned</emphasis>&#32;char)cptr-&gt;<link linkend="_structchannel_1ab9cd68b86b9d2b33a4be6486fdc05adb">sampnum</link>;
1401 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1402 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1403 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1404 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1405 
1406 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;trkbuf&#32;&amp;&amp;&#32;!state_remaining_steps&#32;)
1407 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1408 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;state_remaining_steps&#32;=&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a26d86955ac3c20dc2a61d16d756271a5">sample_step</link>;
1409 
1410 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>&#32;&lt;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1ac0b468b57412769d2f710eeb0d7e2642">nb_max_of_state</link>)
1411 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>++;
1412 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1413 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
1414 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1415 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;state_remaining_steps--;
1416 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1417 
1418 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;tl&#32;=&#32;(short)l;
1419 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;tr&#32;=&#32;(short)<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>;
1420 
1421 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a906161b868534c6f9c23d3e08631e1f6">filter</link>&#32;)
1422 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1423 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Filter</emphasis>
1424 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;l&#32;=&#32;(l+ll)&gt;&gt;1;
1425 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>&#32;=&#32;(<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>+lr)&gt;&gt;1;
1426 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1427 
1428 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1aecd14876760e59571b2fce3b84d05e1b">stereo_separation</link>&#32;==&#32;1&#32;)
1429 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1430 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Left&#32;&amp;&#32;Right&#32;Stereo&#32;panning</emphasis>
1431 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;l&#32;=&#32;(l+(<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>&gt;&gt;1));
1432 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>&#32;=&#32;(<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>+(l&gt;&gt;1));
1433 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1434 
1435 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Level&#32;limitation</emphasis>
1436 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;l&#32;&gt;&#32;32767&#32;)&#32;l&#32;=&#32;32767;
1437 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;l&#32;&lt;&#32;-32768&#32;)&#32;l&#32;=&#32;-32768;
1438 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>&#32;&gt;&#32;32767&#32;)&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>&#32;=&#32;32767;
1439 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>&#32;&lt;&#32;-32768&#32;)&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>&#32;=&#32;-32768;
1440 
1441 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Store&#32;the&#32;final&#32;sample.</emphasis>
1442 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;outbuffer[(i*2)]&#32;&#32;&#32;=&#32;l;
1443 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;outbuffer[(i*2)+1]&#32;=&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1abe08814c2f72843fde4d8df41440d5a0">r</link>;
1444 
1445 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ll&#32;=&#32;tl;
1446 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;lr&#32;=&#32;tr;
1447 
1448 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1449 
1450 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a183c5d4110e9473efc87602b4e9ef2eb">last_l_sample</link>&#32;=&#32;ll;
1451 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a81a4ebc2f004007990cd4bd8ce39866f">last_r_sample</link>&#32;=&#32;lr;
1452 
1453 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a14abe8941974353082a131b456662055">samplenb</link>&#32;=&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a14abe8941974353082a131b456662055">samplenb</link>+nbsample;
1454 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1455 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">else</emphasis>
1456 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1457 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">for</emphasis>&#32;(i&#32;=&#32;0;&#32;i&#32;&lt;&#32;nbsample;&#32;i++)
1458 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1459 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Mod&#32;not&#32;loaded.&#32;Return&#32;blank&#32;buffer.</emphasis>
1460 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;outbuffer[(i*2)]&#32;&#32;&#32;=&#32;0;
1461 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;outbuffer[(i*2)+1]&#32;=&#32;0;
1462 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1463 
1464 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(trkbuf)
1465 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1466 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a4bd84107f7ddd9ae60274cbb06bc8b61">nb_of_state</link>&#32;=&#32;0;
1467 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a41b65b27e55768e6d8068b187a885f88">cur_rd_index</link>&#32;=&#32;0;
1468 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1ad0d4e38e2793dd239ce4cd0dbfc144cc">name</link>[0]&#32;=&#32;0;
1469 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memclear(trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1aa3129a41b161a4945fa98effcce0eb5c">track_state_buf</link>,&#32;0,&#32;<emphasis role="keyword">sizeof</emphasis>(<link linkend="_structtracker__state__">tracker_state</link>)&#32;*&#32;trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1ac0b468b57412769d2f710eeb0d7e2642">nb_max_of_state</link>);
1470 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memclear(trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a9c7f34c01236f72cf2cb3665b0a5494f">instruments</link>,&#32;0,&#32;<emphasis role="keyword">sizeof</emphasis>(trkbuf-&gt;<link linkend="_structjar__mod__tracker__buffer__state___1a9c7f34c01236f72cf2cb3665b0a5494f">instruments</link>));
1471 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1472 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1473 &#32;&#32;&#32;&#32;}
1474 }
1475 
1476 <emphasis role="comment">//resets&#32;internals&#32;for&#32;mod&#32;context</emphasis>
1477 <emphasis role="keyword">static</emphasis>&#32;<emphasis role="keywordtype">bool</emphasis>&#32;jar_mod_reset(&#32;<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;modctx)
1478 {
1479 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(modctx)
1480 &#32;&#32;&#32;&#32;{
1481 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memclear(&amp;modctx-&gt;song,&#32;0,&#32;<emphasis role="keyword">sizeof</emphasis>(modctx-&gt;song));
1482 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memclear(&amp;modctx-&gt;<link linkend="_structjar__mod__context__t_1a8e9f4c9c8e389639b9c4f00182405a6c">sampledata</link>,&#32;0,&#32;<emphasis role="keyword">sizeof</emphasis>(modctx-&gt;<link linkend="_structjar__mod__context__t_1a8e9f4c9c8e389639b9c4f00182405a6c">sampledata</link>));
1483 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memclear(&amp;modctx-&gt;<link linkend="_structjar__mod__context__t_1a3999798bc34c0e7f89f7ac9c66a3820e">patterndata</link>,&#32;0,&#32;<emphasis role="keyword">sizeof</emphasis>(modctx-&gt;<link linkend="_structjar__mod__context__t_1a3999798bc34c0e7f89f7ac9c66a3820e">patterndata</link>));
1484 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a4890ac6f9ac93f5d16d5c3b6e5cb7a42">tablepos</link>&#32;=&#32;0;
1485 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1abe412a34afa54b1cc7703bbddc14e3d9">patternpos</link>&#32;=&#32;0;
1486 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1aabbae2746317ac863dde4b859b5996ad">patterndelay</link>&#32;&#32;=&#32;0;
1487 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1adaa3681b591e75b58f2b36954a5e60b3">jump_loop_effect</link>&#32;=&#32;0;
1488 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a0f6a106a1c4fde4bedaea41da878b525">bpm</link>&#32;=&#32;0;
1489 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1ab480faa910fa107b75297e5eabc1d274">patternticks</link>&#32;=&#32;0;
1490 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a29e45b2c846337977a5f17934eb71ebe">patterntickse</link>&#32;=&#32;0;
1491 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1ae8a10199aa4650a683fad5c43a347e3f">patternticksaim</link>&#32;=&#32;0;
1492 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a597a1165c2fe78dd7942f8f95c2d4913">sampleticksconst</link>&#32;=&#32;0;
1493 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a14abe8941974353082a131b456662055">samplenb</link>&#32;=&#32;0;
1494 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memclear(modctx-&gt;<link linkend="_structjar__mod__context__t_1ae978fdd85a2edc612e9d2c97dfb188fb">channels</link>,&#32;0,&#32;<emphasis role="keyword">sizeof</emphasis>(modctx-&gt;<link linkend="_structjar__mod__context__t_1ae978fdd85a2edc612e9d2c97dfb188fb">channels</link>));
1495 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a594cc2c393955234442553c466ace990">number_of_channels</link>&#32;=&#32;0;
1496 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1ab51d497d65ed8b8e952f049b3b2dd70e">mod_loaded</link>&#32;=&#32;0;
1497 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a81a4ebc2f004007990cd4bd8ce39866f">last_r_sample</link>&#32;=&#32;0;
1498 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a183c5d4110e9473efc87602b4e9ef2eb">last_l_sample</link>&#32;=&#32;0;
1499 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
1500 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac8ea6269835488646d99516fd173b4b6">jar_mod_init</link>(modctx);
1501 &#32;&#32;&#32;&#32;}
1502 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;0;
1503 }
1504 
1505 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a7e06edfed0f65450c6ddee22b21b99f5">jar_mod_unload</link>(&#32;<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;modctx)
1506 {
1507 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(modctx)
1508 &#32;&#32;&#32;&#32;{
1509 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(modctx-&gt;<link linkend="_structjar__mod__context__t_1a558f390dc9b44f7e40e7e244d0c1e2f4">modfile</link>)
1510 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1511 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a31ecb8aa8089c7adc8e9b22305093938">JARMOD_FREE</link>(modctx-&gt;<link linkend="_structjar__mod__context__t_1a558f390dc9b44f7e40e7e244d0c1e2f4">modfile</link>);
1512 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a558f390dc9b44f7e40e7e244d0c1e2f4">modfile</link>&#32;=&#32;0;
1513 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a7b5e0c7c90d2ef783f899730f99b81a3">modfilesize</link>&#32;=&#32;0;
1514 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a76977ab320c3443cfcdc5f61d4032004">loopcount</link>&#32;=&#32;0;
1515 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1516 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;jar_mod_reset(modctx);
1517 &#32;&#32;&#32;&#32;}
1518 }
1519 
1520 <link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ab95228f347043bb1ecf90e23f8622d12">jar_mod_load_file</link>(<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;modctx,&#32;<emphasis role="keyword">const</emphasis>&#32;<emphasis role="keywordtype">char</emphasis>*&#32;<link linkend="__classes_2lib_2m_i_n_i-master_2tests_2testhuge_8cpp_1a42a21beb8018ac623f4d09db1343b9cf">filename</link>)
1521 {
1522 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;fsize&#32;=&#32;0;
1523 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(modctx-&gt;<link linkend="_structjar__mod__context__t_1a558f390dc9b44f7e40e7e244d0c1e2f4">modfile</link>)
1524 &#32;&#32;&#32;&#32;{
1525 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a31ecb8aa8089c7adc8e9b22305093938">JARMOD_FREE</link>(modctx-&gt;<link linkend="_structjar__mod__context__t_1a558f390dc9b44f7e40e7e244d0c1e2f4">modfile</link>);
1526 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a558f390dc9b44f7e40e7e244d0c1e2f4">modfile</link>&#32;=&#32;0;
1527 &#32;&#32;&#32;&#32;}
1528 &#32;&#32;&#32;&#32;
1529 &#32;&#32;&#32;&#32;FILE&#32;*<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a0fdda94b8b7e64884690244028f455ba">f</link>&#32;=&#32;fopen(<link linkend="__classes_2lib_2m_i_n_i-master_2tests_2testhuge_8cpp_1a42a21beb8018ac623f4d09db1343b9cf">filename</link>,&#32;<emphasis role="stringliteral">&quot;rb&quot;</emphasis>);
1530 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a0fdda94b8b7e64884690244028f455ba">f</link>)
1531 &#32;&#32;&#32;&#32;{
1532 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fseek(<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a0fdda94b8b7e64884690244028f455ba">f</link>,0,SEEK_END);
1533 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fsize&#32;=&#32;ftell(<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a0fdda94b8b7e64884690244028f455ba">f</link>);
1534 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fseek(<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a0fdda94b8b7e64884690244028f455ba">f</link>,0,SEEK_SET);
1535 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
1536 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(fsize&#32;&amp;&amp;&#32;fsize&#32;&lt;&#32;32*1024*1024)
1537 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;{
1538 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a558f390dc9b44f7e40e7e244d0c1e2f4">modfile</link>&#32;=&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ad6da9a854c03953e8d94dd0bf1e590c6">JARMOD_MALLOC</link>(fsize);
1539 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a7b5e0c7c90d2ef783f899730f99b81a3">modfilesize</link>&#32;=&#32;fsize;
1540 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;memset(modctx-&gt;<link linkend="_structjar__mod__context__t_1a558f390dc9b44f7e40e7e244d0c1e2f4">modfile</link>,&#32;0,&#32;fsize);
1541 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fread(modctx-&gt;<link linkend="_structjar__mod__context__t_1a558f390dc9b44f7e40e7e244d0c1e2f4">modfile</link>,&#32;fsize,&#32;1,&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a0fdda94b8b7e64884690244028f455ba">f</link>);
1542 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fclose(<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a0fdda94b8b7e64884690244028f455ba">f</link>);
1543 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
1544 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(!jar_mod_load(modctx,&#32;(<emphasis role="keywordtype">void</emphasis>*)modctx-&gt;<link linkend="_structjar__mod__context__t_1a558f390dc9b44f7e40e7e244d0c1e2f4">modfile</link>,&#32;fsize))&#32;fsize&#32;=&#32;0;
1545 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">else</emphasis>&#32;fsize&#32;=&#32;0;
1546 &#32;&#32;&#32;&#32;}
1547 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;fsize;
1548 }
1549 
1550 <link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac426a140ab622462e1b797eecee4b768">jar_mod_current_samples</link>(<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;modctx)
1551 {
1552 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(modctx)
1553 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;modctx-&gt;<link linkend="_structjar__mod__context__t_1a14abe8941974353082a131b456662055">samplenb</link>;
1554 &#32;&#32;&#32;&#32;
1555 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;0;
1556 }
1557 
1558 <emphasis role="comment">//&#32;Works,&#32;however&#32;it&#32;is&#32;very&#32;slow,&#32;this&#32;data&#32;should&#32;be&#32;cached&#32;to&#32;ensure&#32;it&#32;is&#32;run&#32;only&#32;once&#32;per&#32;file</emphasis>
1559 <link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1aa604bba6c299ab762f4d790a265b614a">jar_mod_max_samples</link>(<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>)
1560 {
1561 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a02793280ab49e7dc7c9c2072ba0c5808">mint</link>&#32;buff[2];
1562 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a30ee67aa502329a88f4a203775adfa1a">len</link>;
1563 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;lastcount&#32;=&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>-&gt;loopcount;
1564 &#32;&#32;&#32;&#32;
1565 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">while</emphasis>(<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>-&gt;loopcount&#32;&lt;=&#32;lastcount)
1566 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1aaae0576db604b379a412b7db94aaa8c1">jar_mod_fillbuffer</link>(<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>,&#32;buff,&#32;1,&#32;0);
1567 &#32;&#32;&#32;&#32;
1568 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a30ee67aa502329a88f4a203775adfa1a">len</link>&#32;=&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>-&gt;samplenb;
1569 &#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac4b3582d5b65e2365b6f54eaacdbf173">jar_mod_seek_start</link>(<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>);
1570 &#32;&#32;&#32;&#32;
1571 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2glad_8h_1a30ee67aa502329a88f4a203775adfa1a">len</link>;
1572 }
1573 
1574 <emphasis role="comment">//&#32;move&#32;seek_val&#32;to&#32;sample&#32;index,&#32;0&#32;-&gt;&#32;jar_mod_max_samples&#32;is&#32;the&#32;range</emphasis>
1575 <emphasis role="keywordtype">void</emphasis>&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac4b3582d5b65e2365b6f54eaacdbf173">jar_mod_seek_start</link>(<link linkend="_structjar__mod__context__t">jar_mod_context_t</link>&#32;*&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>)
1576 {
1577 &#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>&#32;&amp;&amp;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>-&gt;modfile)
1578 &#32;&#32;&#32;&#32;{
1579 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6b0f9d3fd3ce921260a1a1761c58ab33">muchar</link>*&#32;ftmp&#32;=&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>-&gt;modfile;
1580 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1a6f79620052cd3b12a89cf6a4207f5077">mulong</link>&#32;stmp&#32;=&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>-&gt;modfilesize;
1581 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2external_2jar__mod_8h_1ac65797e6b7c843c39f37b454310f8dca">muint</link>&#32;lcnt&#32;=&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>-&gt;loopcount;
1582 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
1583 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>(jar_mod_reset(<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>)){
1584 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;jar_mod_load(<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>,&#32;ftmp,&#32;stmp);
1585 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>-&gt;modfile&#32;=&#32;ftmp;
1586 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>-&gt;modfilesize&#32;=&#32;stmp;
1587 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="__classes_2lib_2raylib_2src_2external_2_a_n_g_l_e_2_e_g_l_2eglext_8h_1a209c8e51e11ce41075280eea53ad018c">ctx</link>-&gt;loopcount&#32;=&#32;lcnt;
1588 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
1589 &#32;&#32;&#32;&#32;}
1590 }
1591 
1592 <emphasis role="preprocessor">#endif&#32;</emphasis><emphasis role="comment">//&#32;end&#32;of&#32;JAR_MOD_IMPLEMENTATION</emphasis>
1593 <emphasis role="comment">//-------------------------------------------------------------------------------</emphasis>
1594 
1595 
1596 <emphasis role="preprocessor">#endif&#32;</emphasis><emphasis role="comment">//end&#32;of&#32;header&#32;file</emphasis>
</programlisting></section>
